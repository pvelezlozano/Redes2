<!doctype html>
<html 
      lang="en"
      dir="ltr">
  <head>
    <meta name="google-signin-client-id" content="721724668570-nbkv1cfusk7kk4eni4pjvepaus73b13t.apps.googleusercontent.com">
    <meta name="google-signin-scope"
          content="profile email">
    <meta property="og:site_name" content="Firebase">
    <meta property="og:type" content="website"><meta name="theme-color" content="#039be5"><meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="/_pwa/firebase/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="//www.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="//apis.google.com" crossorigin>
    <link rel="preconnect" href="//www.google-analytics.com" crossorigin><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Google+Sans:400,500|Roboto:400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap">
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Material+Icons&display=block"><link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/vacc2a2a4a4394c7c42dc62dba69eb022d7680ce4a368d4b28c3e984cc9155a81/firebase/css/app.css"><link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/prod/vacc2a2a4a4394c7c42dc62dba69eb022d7680ce4a368d4b28c3e984cc9155a81/firebase/images/favicon.png">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/prod/vacc2a2a4a4394c7c42dc62dba69eb022d7680ce4a368d4b28c3e984cc9155a81/firebase/images/touchicon-180.png"><link rel="canonical" href="https://firebase.google.com/docs/firestore/query-data/listen"><link rel="search" type="application/opensearchdescription+xml"
            title="Firebase" href="https://firebase.google.com/s/opensearch.xml">
      

<title>Get realtime updates with Cloud Firestore &nbsp;|&nbsp; Firebase</title>

<meta property="og:title" content="Get realtime updates with Cloud Firestore &nbsp;|&nbsp; Firebase"><meta property="og:url" content="https://firebase.google.com/docs/firestore/query-data/listen"><meta property="og:locale" content="en">
  
    
    
    
    
    
    
    
    
<meta name="gtm_var" data-key="docType" data-value="other">

  

    </head>
  <body class=""
        template="page"
        theme="firebase-theme"
        type="article"
        
        layout="docs"
        
        
        
        pending>
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
  
    <section class="devsite-wrapper"><devsite-header>
  
    


























<div class="devsite-header--inner nocontent">
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Open menu">
        </button>
        <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="firebase" track-metadata-position="nav"
   track-metadata-eventDetail="nav">

  <img src="https://www.gstatic.com/devrel-devsite/prod/vacc2a2a4a4394c7c42dc62dba69eb022d7680ce4a368d4b28c3e984cc9155a81/firebase/images/lockup.png" class="devsite-site-logo"
       alt="Firebase">

</a>



  
  
  <span class="devsite-product-name">
    <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
      
    
  </li>
  
</ul>
  </span>

</div>
        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
            
              
              
  <devsite-tabs class="upper-tabs">

    <nav class="devsite-tabs-wrapper" aria-label="Upper tabs">
      
        
          <tab dropdown
    
    
    
    >
  <a href="https://firebase.google.com/products-build"
   class="gc-analytics-event "
   track-type="globalNav"
   track-metadata-position="nav"
   track-metadata-eventdetail="nav"
   track-name="products"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Products"
   >
  Products
</a>

  <a href="#"
     role="button"
     aria-haspopup="true"
     aria-expanded="false"
     aria-label="Dropdown menu for Products"
     track-type="globalNav"
     track-metadata-position="nav"
     track-metadata-eventdetail="nav"
     track-name="products"
     
       data-category="Site-Wide Custom Events"
     
       data-label="Tab: Products"
     
     class="devsite-tabs-dropdown-toggle devsite-icon devsite-icon-arrow-drop-down"></a>

  <div class="devsite-tabs-dropdown" aria-label="submenu" hidden>
    
    <div class="devsite-tabs-dropdown-content">
      
        <div class="devsite-tabs-dropdown-column
                    ">
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
              
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/products-build"
                     track-type="navMenu"
                     track-name="Build"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/products-build"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Build
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/products-release"
                     track-type="navMenu"
                     track-name="Release &amp; Monitor"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/products-release"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Release & Monitor
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/products-engage"
                     track-type="navMenu"
                     track-name="Engage"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/products-engage"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Engage
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
    </div>
  </div>
</tab>
        
      
        
          <tab  >
            <a href="https://firebase.google.com/use-cases"
   class="gc-analytics-event "
   track-type="globalNav"
   track-metadata-position="nav"
   track-metadata-eventdetail="nav"
   track-name="useCases"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Use Cases"
   >
  Use Cases
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://firebase.google.com/pricing"
   class="gc-analytics-event "
   track-type="globalNav"
   track-metadata-position="nav"
   track-metadata-eventdetail="nav"
   track-name="pricing"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Pricing"
   >
  Pricing
</a>

          </tab>
        
      
        
          <tab dropdown
    
    active
    
    >
  <a href="https://firebase.google.com/docs"
   class="gc-analytics-event "
   track-type="globalNav"
   track-metadata-position="nav"
   track-metadata-eventdetail="nav"
   track-name="docs"
   aria-label="Docs, selected" 
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Docs"
   >
  Docs
</a>

  <a href="#"
     role="button"
     aria-haspopup="true"
     aria-expanded="false"
     aria-label="Dropdown menu for Docs"
     track-type="globalNav"
     track-metadata-position="nav"
     track-metadata-eventdetail="nav"
     track-name="docs"
     
       data-category="Site-Wide Custom Events"
     
       data-label="Tab: Docs"
     
     class="devsite-tabs-dropdown-toggle devsite-icon devsite-icon-arrow-drop-down"></a>

  <div class="devsite-tabs-dropdown" aria-label="submenu" hidden>
    
    <div class="devsite-tabs-dropdown-content">
      
        <div class="devsite-tabs-dropdown-column
                    ">
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
              
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs"
                     track-type="navMenu"
                     track-name="Overview"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Overview
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/guides"
                     track-type="navMenu"
                     track-name="Fundamentals"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/guides"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Fundamentals
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/build"
                     track-type="navMenu"
                     track-name="Build"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/build"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Build
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/release"
                     track-type="navMenu"
                     track-name="Release &amp; Monitor"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/release"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Release & Monitor
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/engage"
                     track-type="navMenu"
                     track-name="Engage"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/engage"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Engage
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/reference"
                     track-type="navMenu"
                     track-name="Reference"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/reference"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Reference
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/samples"
                     track-type="navMenu"
                     track-name="Samples"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/samples"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Samples
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/libraries"
                     track-type="navMenu"
                     track-name="Libraries"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/libraries"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Libraries
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
    </div>
  </div>
</tab>
        
      
        
          <tab  >
            <a href="https://firebase.google.com/community"
   class="gc-analytics-event "
   track-type="globalNav"
   track-metadata-position="nav"
   track-metadata-eventdetail="nav"
   track-name="community"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Community"
   >
  Community
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://firebase.google.com/support"
   class="gc-analytics-event "
   track-type="globalNav"
   track-metadata-position="nav"
   track-metadata-eventdetail="nav"
   track-name="support"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Support"
   >
  Support
</a>

          </tab>
        
      
    </nav>

  </devsite-tabs>

            
           </div>
          
<devsite-search
    aria-expanded="false"
    aria-haspopup="listbox"
    enable-signin
    enable-search
    enable-suggestions
      enable-query-completion
    
    project-name="Firebase"
    tenant-name="Firebase"
    
    
    
    
    
    role="combobox">
  <form class="devsite-search-form" action="https://firebase.google.com/s/results" method="GET">
    <div class="devsite-search-container">
      <div class="devsite-searchbox">
        <input
          aria-activedescendant=""
          aria-autocomplete="list"
          
          aria-label="Search"
          aria-haspopup="false"
          aria-multiline="false"
          aria-label="Search box"
          autocomplete="off"
          class="devsite-search-field devsite-search-query"
          name="q"
          
          placeholder="Search"
          role="combobox"
          type="text"
          value=""
          >
        <div class="devsite-search-image material-icons" aria-hidden="true"></div>
      </div>
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              
              aria-label="Open search"></button>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          
          aria-label="Close search"></button>
</devsite-search>

        </div>

        

        

        
<devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    
    <select aria-label="Select your language preference."
            class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
    
      
      <option>Language</option>
    
    
      <option value="en"
              lang="en"
              track-metadata-original-language="en"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
    
      <option value="id"
              lang="id"
              track-metadata-original-language="en"
              track-metadata-selected-language="id"
              track-name="changed"
              track-type="languageSelector"
            >
        Bahasa Indonesia
      </option>
    
      <option value="de"
              lang="de"
              track-metadata-original-language="en"
              track-metadata-selected-language="de"
              track-name="changed"
              track-type="languageSelector"
            >
        Deutsch
      </option>
    
      <option value="es_419"
              lang="es_419"
              track-metadata-original-language="en"
              track-metadata-selected-language="es_419"
              track-name="changed"
              track-type="languageSelector"
            >
        Español – América Latina
      </option>
    
      <option value="fr"
              lang="fr"
              track-metadata-original-language="en"
              track-metadata-selected-language="fr"
              track-name="changed"
              track-type="languageSelector"
            >
        Français
      </option>
    
      <option value="it"
              lang="it"
              track-metadata-original-language="en"
              track-metadata-selected-language="it"
              track-name="changed"
              track-type="languageSelector"
            >
        Italiano
      </option>
    
      <option value="pl"
              lang="pl"
              track-metadata-original-language="en"
              track-metadata-selected-language="pl"
              track-name="changed"
              track-type="languageSelector"
            >
        Polski
      </option>
    
      <option value="pt_br"
              lang="pt_br"
              track-metadata-original-language="en"
              track-metadata-selected-language="pt_br"
              track-name="changed"
              track-type="languageSelector"
            >
        Português – Brasil
      </option>
    
      <option value="vi"
              lang="vi"
              track-metadata-original-language="en"
              track-metadata-selected-language="vi"
              track-name="changed"
              track-type="languageSelector"
            >
        Tiếng Việt
      </option>
    
      <option value="tr"
              lang="tr"
              track-metadata-original-language="en"
              track-metadata-selected-language="tr"
              track-name="changed"
              track-type="languageSelector"
            >
        Türkçe
      </option>
    
      <option value="ru"
              lang="ru"
              track-metadata-original-language="en"
              track-metadata-selected-language="ru"
              track-name="changed"
              track-type="languageSelector"
            >
        Русский
      </option>
    
      <option value="he"
              lang="he"
              track-metadata-original-language="en"
              track-metadata-selected-language="he"
              track-name="changed"
              track-type="languageSelector"
            >
        עברית&#39;
      </option>
    
      <option value="ar"
              lang="ar"
              track-metadata-original-language="en"
              track-metadata-selected-language="ar"
              track-name="changed"
              track-type="languageSelector"
            >
        العربيّة
      </option>
    
      <option value="fa"
              lang="fa"
              track-metadata-original-language="en"
              track-metadata-selected-language="fa"
              track-name="changed"
              track-type="languageSelector"
            >
        فارسی
      </option>
    
      <option value="hi"
              lang="hi"
              track-metadata-original-language="en"
              track-metadata-selected-language="hi"
              track-name="changed"
              track-type="languageSelector"
            >
        हिंदी
      </option>
    
      <option value="bn"
              lang="bn"
              track-metadata-original-language="en"
              track-metadata-selected-language="bn"
              track-name="changed"
              track-type="languageSelector"
            >
        বাংলা
      </option>
    
      <option value="th"
              lang="th"
              track-metadata-original-language="en"
              track-metadata-selected-language="th"
              track-name="changed"
              track-type="languageSelector"
            >
        ภาษาไทย
      </option>
    
      <option value="zh_cn"
              lang="zh_cn"
              track-metadata-original-language="en"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
    
      <option value="zh_tw"
              lang="zh_tw"
              track-metadata-original-language="en"
              track-metadata-selected-language="zh_tw"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 繁體
      </option>
    
      <option value="ja"
              lang="ja"
              track-metadata-original-language="en"
              track-metadata-selected-language="ja"
              track-name="changed"
              track-type="languageSelector"
            >
        日本語
      </option>
    
      <option value="ko"
              lang="ko"
              track-metadata-original-language="en"
              track-metadata-selected-language="ko"
              track-name="changed"
              track-type="languageSelector"
            >
        한국어
      </option>
    
    </select>
  </devsite-select>
</devsite-language-selector>


        
          
  <a class="devsite-header-link devsite-top-button button gc-analytics-event"
     href="//console.firebase.google.com"
     data-category="Site-Wide Custom Events"
     data-label="Site header link"
     >
    Go to console
  </a>
  
        

        
          
          
          <devsite-user 
                        
                        
                          enable-profiles
                        
                        
                          
                            fp-auth
                          
                        id="devsite-user"></devsite-user>
           
        
      </div>
    </div>
  </div>



  <div class="devsite-collapsible-section
    ">
    <div class="devsite-header-background">
      
        
          <div class="devsite-product-id-row"
           >
            <div class="devsite-product-description-row">
              
                
                  
                  
                  <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
  <a href="https://firebase.google.com/docs"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Lower Header"
      
        data-value="1"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="1"
      
        track-metadata-eventdetail=""
      
    >
    
        Documentation
      
  </a>
  
    
  </li>
  
</ul>
                
              
              
            </div>
            
          </div>
          
        
      
      
        <div class="devsite-doc-set-nav-row">
          
          
            
            
  <devsite-tabs class="lower-tabs">

    <nav class="devsite-tabs-wrapper" aria-label="Lower tabs">
      
        
          <tab  >
            <a href="https://firebase.google.com/docs"
   class="gc-analytics-event "
   track-type="globalNav"
   track-metadata-position="nav"
   track-metadata-eventdetail="nav"
   track-name="overview"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Overview"
   >
  Overview
</a>

          </tab>
        
      
        
          <tab dropdown
    
    
    
    >
  <a href="https://firebase.google.com/docs/guides"
   class="gc-analytics-event "
   track-type="globalNav"
   track-metadata-position="nav"
   track-metadata-eventdetail="nav"
   track-name="fundamentals"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Fundamentals"
   >
  Fundamentals
</a>

  <a href="#"
     role="button"
     aria-haspopup="true"
     aria-expanded="false"
     aria-label="Dropdown menu for Fundamentals"
     track-type="globalNav"
     track-metadata-position="nav"
     track-metadata-eventdetail="nav"
     track-name="fundamentals"
     
       data-category="Site-Wide Custom Events"
     
       data-label="Tab: Fundamentals"
     
     class="devsite-tabs-dropdown-toggle devsite-icon devsite-icon-arrow-drop-down"></a>

  <div class="devsite-tabs-dropdown" aria-label="submenu" hidden>
    
    <div class="devsite-tabs-dropdown-content">
      
        <div class="devsite-tabs-dropdown-column
                    ">
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
              
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/ios/setup"
                     track-type="navMenu"
                     track-name="Add Firebase - iOS"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/ios/setup"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Add Firebase - iOS
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/android/setup"
                     track-type="navMenu"
                     track-name="Add Firebase - Android"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/android/setup"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Add Firebase - Android
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/web/setup"
                     track-type="navMenu"
                     track-name="Add Firebase - Web"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/web/setup"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Add Firebase - Web
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/cpp/setup"
                     track-type="navMenu"
                     track-name="Add Firebase - C++"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/cpp/setup"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Add Firebase - C++
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/unity/setup"
                     track-type="navMenu"
                     track-name="Add Firebase - Unity"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/unity/setup"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Add Firebase - Unity
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/admin/setup"
                     track-type="navMenu"
                     track-name="Add Firebase - Server environments"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/admin/setup"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Add Firebase - Server environments
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/projects/learn-more"
                     track-type="navMenu"
                     track-name="Manage Projects"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/projects/learn-more"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Manage Projects
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/app-check"
                     track-type="navMenu"
                     track-name="Protect project resources with App Check"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/app-check"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Protect project resources with App Check
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/emulator-suite"
                     track-type="navMenu"
                     track-name="Use Emulator Suite"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/emulator-suite"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Use Emulator Suite
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
    </div>
  </div>
</tab>
        
      
        
          <tab dropdown
    
    active
    
    >
  <a href="https://firebase.google.com/docs/build"
   class="gc-analytics-event "
   track-type="globalNav"
   track-metadata-position="nav"
   track-metadata-eventdetail="nav"
   track-name="build"
   aria-label="Build, selected" 
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Build"
   >
  Build
</a>

  <a href="#"
     role="button"
     aria-haspopup="true"
     aria-expanded="false"
     aria-label="Dropdown menu for Build"
     track-type="globalNav"
     track-metadata-position="nav"
     track-metadata-eventdetail="nav"
     track-name="build"
     
       data-category="Site-Wide Custom Events"
     
       data-label="Tab: Build"
     
     class="devsite-tabs-dropdown-toggle devsite-icon devsite-icon-arrow-drop-down"></a>

  <div class="devsite-tabs-dropdown" aria-label="submenu" hidden>
    
    <div class="devsite-tabs-dropdown-content">
      
        <div class="devsite-tabs-dropdown-column
                    ">
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
              
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/emulator-suite"
                     track-type="navMenu"
                     track-name="Emulator Suite"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/emulator-suite"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Emulator Suite
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/auth"
                     track-type="navMenu"
                     track-name="Authentication"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/auth"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Authentication
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/database"
                     track-type="navMenu"
                     track-name="Realtime Database"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/database"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Realtime Database
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/firestore"
                     track-type="navMenu"
                     track-name="Firestore"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/firestore"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Firestore
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/storage"
                     track-type="navMenu"
                     track-name="Storage"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/storage"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Storage
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/ml"
                     track-type="navMenu"
                     track-name="ML"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/ml"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      ML
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/hosting"
                     track-type="navMenu"
                     track-name="Hosting"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/hosting"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Hosting
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/functions"
                     track-type="navMenu"
                     track-name="Cloud Functions"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/functions"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Cloud Functions
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/rules"
                     track-type="navMenu"
                     track-name="Security Rules"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/rules"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Security Rules
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/extensions"
                     track-type="navMenu"
                     track-name="Extensions"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/extensions"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Extensions
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
    </div>
  </div>
</tab>
        
      
        
          <tab dropdown
    
    
    
    >
  <a href="https://firebase.google.com/docs/release"
   class="gc-analytics-event "
   track-type="globalNav"
   track-metadata-position="nav"
   track-metadata-eventdetail="nav"
   track-name="release&amp;Monitor"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Release &amp; Monitor"
   >
  Release &amp; Monitor
</a>

  <a href="#"
     role="button"
     aria-haspopup="true"
     aria-expanded="false"
     aria-label="Dropdown menu for Release &amp; Monitor"
     track-type="globalNav"
     track-metadata-position="nav"
     track-metadata-eventdetail="nav"
     track-name="release&amp;Monitor"
     
       data-category="Site-Wide Custom Events"
     
       data-label="Tab: Release &amp; Monitor"
     
     class="devsite-tabs-dropdown-toggle devsite-icon devsite-icon-arrow-drop-down"></a>

  <div class="devsite-tabs-dropdown" aria-label="submenu" hidden>
    
    <div class="devsite-tabs-dropdown-content">
      
        <div class="devsite-tabs-dropdown-column
                    ">
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
              
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/crashlytics"
                     track-type="navMenu"
                     track-name="Crashlytics"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/crashlytics"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Crashlytics
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/perf-mon"
                     track-type="navMenu"
                     track-name="Performance Monitoring"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/perf-mon"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Performance Monitoring
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/test-lab"
                     track-type="navMenu"
                     track-name="Test Lab"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/test-lab"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Test Lab
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/app-distribution"
                     track-type="navMenu"
                     track-name="App Distribution"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/app-distribution"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      App Distribution
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
    </div>
  </div>
</tab>
        
      
        
          <tab dropdown
    
    
    
    >
  <a href="https://firebase.google.com/docs/engage"
   class="gc-analytics-event "
   track-type="globalNav"
   track-metadata-position="nav"
   track-metadata-eventdetail="nav"
   track-name="engage"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Engage"
   >
  Engage
</a>

  <a href="#"
     role="button"
     aria-haspopup="true"
     aria-expanded="false"
     aria-label="Dropdown menu for Engage"
     track-type="globalNav"
     track-metadata-position="nav"
     track-metadata-eventdetail="nav"
     track-name="engage"
     
       data-category="Site-Wide Custom Events"
     
       data-label="Tab: Engage"
     
     class="devsite-tabs-dropdown-toggle devsite-icon devsite-icon-arrow-drop-down"></a>

  <div class="devsite-tabs-dropdown" aria-label="submenu" hidden>
    
    <div class="devsite-tabs-dropdown-content">
      
        <div class="devsite-tabs-dropdown-column
                    ">
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
              
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/analytics"
                     track-type="navMenu"
                     track-name="Analytics"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/analytics"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Analytics
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/remote-config"
                     track-type="navMenu"
                     track-name="Remote Config"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/remote-config"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Remote Config
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/predictions"
                     track-type="navMenu"
                     track-name="Predictions"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/predictions"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Predictions
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/ab-testing"
                     track-type="navMenu"
                     track-name="A/B Testing"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/ab-testing"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      A/B Testing
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/cloud-messaging"
                     track-type="navMenu"
                     track-name="Cloud Messaging"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/cloud-messaging"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Cloud Messaging
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/in-app-messaging"
                     track-type="navMenu"
                     track-name="In-App Messaging"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/in-app-messaging"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      In-App Messaging
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/dynamic-links"
                     track-type="navMenu"
                     track-name="Dynamic Links"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/dynamic-links"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Dynamic Links
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/admob"
                     track-type="navMenu"
                     track-name="Google AdMob"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/admob"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Google AdMob
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/ads"
                     track-type="navMenu"
                     track-name="Google Ads"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/ads"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Google Ads
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://firebase.google.com/docs/app-indexing"
                     track-type="navMenu"
                     track-name="App Indexing"
                     track-metadata-position="nav"
                     track-metadata-href="https://firebase.google.com/docs/app-indexing"
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      App Indexing
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
    </div>
  </div>
</tab>
        
      
        
          <tab  >
            <a href="https://firebase.google.com/docs/reference"
   class="gc-analytics-event "
   track-type="globalNav"
   track-metadata-position="nav"
   track-metadata-eventdetail="nav"
   track-name="reference"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Reference"
   >
  Reference
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://firebase.google.com/docs/samples"
   class="gc-analytics-event "
   track-type="globalNav"
   track-metadata-position="nav"
   track-metadata-eventdetail="nav"
   track-name="samples"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Samples"
   >
  Samples
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://firebase.google.com/docs/libraries"
   class="gc-analytics-event "
   track-type="globalNav"
   track-metadata-position="nav"
   track-metadata-eventdetail="nav"
   track-name="libraries"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Libraries"
   >
  Libraries
</a>

          </tab>
        
      
    </nav>

  </devsite-tabs>

          
          
        </div>
      
    </div>
  </div>

</div>



  

  
</devsite-header>
      <devsite-book-nav scrollbars >
        
          
























<nav class="devsite-book-nav devsite-nav nocontent"
     aria-label="Side menu">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Close navigation">
    </button>
    <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="firebase" track-metadata-position="nav"
   track-metadata-eventDetail="nav">

  <img src="https://www.gstatic.com/devrel-devsite/prod/vacc2a2a4a4394c7c42dc62dba69eb022d7680ce4a368d4b28c3e984cc9155a81/firebase/images/lockup.png" class="devsite-site-logo" alt="Firebase">

</a>


  
      <span class="devsite-product-name">
        
        
        <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
      
    
  </li>
  
</ul>
      </span>
    

</div>
  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
      
        <ul class="devsite-nav-list">
          
            <li class="devsite-nav-item">
              
  
  <a href="/products-build"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Products"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="products">
  
    <span class="devsite-nav-text" tooltip >
      Products
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          >
    </span>
    
  
  </a>
  

  
    <ul class="devsite-nav-responsive-tabs devsite-nav-has-menu
               ">
      
<li class="devsite-nav-item">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip menu="Products">
      More
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="Products">
    </span>
    
  
  </span>
  

</li>

    </ul>
  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/use-cases"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Use Cases"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="useCases">
  
    <span class="devsite-nav-text" tooltip >
      Use Cases
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          >
    </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/pricing"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Pricing"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="pricing">
  
    <span class="devsite-nav-text" tooltip >
      Pricing
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/docs"
    
       class="devsite-nav-title gc-analytics-event
              
              devsite-nav-active"
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Docs"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="docs">
  
    <span class="devsite-nav-text" tooltip >
      Docs
   </span>
    
  
  </a>
  

  
    <ul class="devsite-nav-responsive-tabs devsite-nav-has-menu
               ">
      
<li class="devsite-nav-item">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip menu="Docs">
      More
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="Docs">
    </span>
    
  
  </span>
  

</li>

    </ul>
  
              
                <ul class="devsite-nav-responsive-tabs">
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/docs"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Overview"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="overview">
  
    <span class="devsite-nav-text" tooltip >
      Overview
   </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/docs/guides"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Fundamentals"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="fundamentals">
  
    <span class="devsite-nav-text" tooltip >
      Fundamentals
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          >
    </span>
    
  
  </a>
  

  
    <ul class="devsite-nav-responsive-tabs devsite-nav-has-menu
                devsite-lower-tab-item">
      
<li class="devsite-nav-item">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip menu="Fundamentals">
      More
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="Fundamentals">
    </span>
    
  
  </span>
  

</li>

    </ul>
  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/docs/build"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              devsite-nav-active"
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Build"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="build">
  
    <span class="devsite-nav-text" tooltip menu="_book">
      Build
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="_book">
    </span>
    
  
  </a>
  

  
    <ul class="devsite-nav-responsive-tabs devsite-nav-has-menu
                devsite-lower-tab-item">
      
<li class="devsite-nav-item">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip menu="Build">
      More
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="Build">
    </span>
    
  
  </span>
  

</li>

    </ul>
  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/docs/release"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Release &amp; Monitor"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="release&amp;Monitor">
  
    <span class="devsite-nav-text" tooltip >
      Release &amp; Monitor
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          >
    </span>
    
  
  </a>
  

  
    <ul class="devsite-nav-responsive-tabs devsite-nav-has-menu
                devsite-lower-tab-item">
      
<li class="devsite-nav-item">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip menu="Release &amp; Monitor">
      More
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="Release &amp; Monitor">
    </span>
    
  
  </span>
  

</li>

    </ul>
  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/docs/engage"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Engage"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="engage">
  
    <span class="devsite-nav-text" tooltip >
      Engage
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          >
    </span>
    
  
  </a>
  

  
    <ul class="devsite-nav-responsive-tabs devsite-nav-has-menu
                devsite-lower-tab-item">
      
<li class="devsite-nav-item">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip menu="Engage">
      More
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="Engage">
    </span>
    
  
  </span>
  

</li>

    </ul>
  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/docs/reference"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Reference"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="reference">
  
    <span class="devsite-nav-text" tooltip >
      Reference
   </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/docs/samples"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Samples"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="samples">
  
    <span class="devsite-nav-text" tooltip >
      Samples
   </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/docs/libraries"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Libraries"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="libraries">
  
    <span class="devsite-nav-text" tooltip >
      Libraries
   </span>
    
  
  </a>
  

  
                    </li>
                  
                </ul>
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/community"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Community"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="community">
  
    <span class="devsite-nav-text" tooltip >
      Community
   </span>
    
  
  </a>
  

  
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="/support"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Support"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="support">
  
    <span class="devsite-nav-text" tooltip >
      Support
   </span>
    
  
  </a>
  

  
              
            </li>
          
          
    
<li class="devsite-nav-item">

  
  <a href="//console.firebase.google.com"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Go to console"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="goToConsole">
  
    <span class="devsite-nav-text" tooltip >
      Go to console
   </span>
    
  
  </a>
  

</li>

  
          
        </ul>
      
    </div>
    
      <div class="devsite-mobile-nav-bottom" role="navigation">
        
          
          <ul class="devsite-nav-list" menu="_book">
            <li class="devsite-nav-item"><a href="/docs/build"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion
           devsite-nav-beta"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Emulator Suite</span><span class="devsite-nav-icon material-icons"
          data-icon="beta"
          data-title="Beta"
          aria-hidden="true"></span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/emulator-suite"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Introduction</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Connect your app and prototype</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/emulator-suite/connect_and_prototype"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get started</span></a></li><li class="devsite-nav-item"><a href="/docs/emulator-suite/connect_auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Connect to the Authentication emulator</span></a></li><li class="devsite-nav-item"><a href="/docs/emulator-suite/connect_rtdb"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Connect to the Realtime Database emulator</span></a></li><li class="devsite-nav-item"><a href="/docs/emulator-suite/connect_firestore"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Connect to the Cloud Firestore emulator</span></a></li><li class="devsite-nav-item"><a href="/docs/emulator-suite/connect_storage"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Connect to the Cloud Storage emulator</span></a></li><li class="devsite-nav-item"><a href="/docs/emulator-suite/connect_functions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Connect to the Cloud Functions emulator</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="/docs/emulator-suite/install_and_configure"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Install, configure and integrate</span></a></li></ul></devsite-expandable-nav></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Authentication</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Introduction</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/where-to-start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Where do I start?</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/users"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Users in Firebase Projects</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>iOS</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/auth/ios/firebaseui"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Sign in with a pre-built UI</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/manage-users"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Manage Users</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/password-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Password Authentication</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/email-link-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Email Link Authentication</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/google-signin"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Google Sign-In</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/facebook-login"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Facebook Login</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/apple"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Sign in with Apple</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/twitter-login"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Twitter Login</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/github-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>GitHub</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/microsoft-oauth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Microsoft</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/yahoo-oauth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Yahoo</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/game-center"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Game Center Sign-in</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/phone-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Phone Number</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/custom-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Use a Custom Auth System</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/anonymous-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Anonymous Authentication</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/single-sign-on"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Enabling cross-app authentication with shared iOS Keychain</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/account-linking"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Link Multiple Auth Providers</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/passing-state-in-email-actions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Passing State in Email Actions</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/ios/errors"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Handle Errors</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Android</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/auth/android/firebaseui"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Sign in with a pre-built UI</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/android/start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started with the Firebase SDK</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/android/manage-users"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Manage Users</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/android/password-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Password Authentication</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/android/email-link-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Email Link Authentication</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/android/google-signin"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Google Sign-In</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/android/facebook-login"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Facebook Login</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/android/apple"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Sign in with Apple</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/android/twitter-login"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Twitter</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/android/github-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>GitHub</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/android/microsoft-oauth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Microsoft</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/android/yahoo-oauth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Yahoo</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/android/play-games"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Play Games Sign-in</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/android/phone-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Phone Number</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/android/custom-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Use a Custom Auth System</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/android/anonymous-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Anonymous Authentication</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/android/account-linking"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Link Multiple Auth Providers</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/android/passing-state-in-email-actions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Passing State in Email Actions</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Web</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/auth/web/firebaseui"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Sign in with a pre-built UI</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/web/start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/web/manage-users"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Manage Users</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/web/password-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Password Authentication</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/web/email-link-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Email Link Authentication</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/web/google-signin"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Google Sign-In</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/web/facebook-login"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Facebook Login</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/web/apple"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Sign in with Apple</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/web/twitter-login"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Twitter</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/web/github-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>GitHub</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/web/microsoft-oauth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Microsoft</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/web/yahoo-oauth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Yahoo</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/web/phone-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Phone Number</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/web/custom-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Use a Custom Auth System</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/web/anonymous-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Anonymous Authentication</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/web/account-linking"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Link Multiple Auth Providers</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/web/cordova"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>OAuth Sign-In for Cordova</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/web/auth-state-persistence"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Auth State Persistence</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/web/passing-state-in-email-actions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Passing State in Email Actions</span></a></li><li class="devsite-nav-item
           devsite-nav-beta"><a href="/docs/auth/web/service-worker-sessions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Service Worker Sessions</span><span class="devsite-nav-icon material-icons"
          data-icon="beta"
          data-title="Beta"
          aria-hidden="true"></span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>C++</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/auth/cpp/start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/cpp/manage-users"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Manage Users</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/cpp/password-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Password Authentication</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/cpp/google-signin"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Google Sign-in</span></a></li><li class="devsite-nav-item
           devsite-nav-beta"><a href="/docs/auth/cpp/play-games"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Play Games Sign-in</span><span class="devsite-nav-icon material-icons"
          data-icon="beta"
          data-title="Beta"
          aria-hidden="true"></span></a></li><li class="devsite-nav-item"><a href="/docs/auth/cpp/github-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>GitHub</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/cpp/facebook-login"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Facebook Login</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/cpp/apple"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Sign in with Apple</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/cpp/twitter-login"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Twitter Login</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/cpp/microsoft-oauth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Microsoft</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/cpp/yahoo-oauth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Yahoo</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/cpp/phone-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Phone Number</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/cpp/custom-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Use a Custom Auth System</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/cpp/anonymous-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Anonymous Authentication</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/cpp/account-linking"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Link Multiple Auth Providers</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Unity</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/auth/unity/start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/unity/manage-users"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Manage Users</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/unity/password-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Password Authentication</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/unity/google-signin"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Google Sign-in</span></a></li><li class="devsite-nav-item
           devsite-nav-beta"><a href="/docs/auth/unity/play-games"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Play Games Sign-in</span><span class="devsite-nav-icon material-icons"
          data-icon="beta"
          data-title="Beta"
          aria-hidden="true"></span></a></li><li class="devsite-nav-item"><a href="/docs/auth/unity/github-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>GitHub Authentication</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/unity/facebook-login"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Facebook Login</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/unity/apple"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Sign in with Apple</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/unity/twitter-login"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Twitter Login</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/unity/microsoft-oauth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Microsoft</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/unity/yahoo-oauth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Yahoo</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/unity/phone-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Phone Number</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/unity/custom-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Use a Custom Auth System</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/unity/anonymous-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Anonymous Authentication</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/unity/account-linking"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Link Multiple Auth Providers</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Admin</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/auth/admin"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Introduction</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/admin/manage-users"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Manage Users</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/admin/import-users"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Import Users</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/admin/create-custom-tokens"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Create Custom Tokens</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/admin/verify-id-tokens"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Verify ID Tokens</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/admin/manage-sessions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Manage User Sessions</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/admin/manage-cookies"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Manage Session Cookies</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/admin/custom-claims"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Control Access with Custom Claims</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/admin/email-action-links"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Generating Email Action Links</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/admin/errors"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Errors</span></a></li><li class="devsite-nav-item"><a href="/docs/admin/migrate-admin"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Migration Guide</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="/docs/auth/custom-email-handler"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Customize the Email Action Handler</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/extend-with-functions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Extend with Cloud Functions</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/case-studies"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Case Studies</span></a></li><li class="devsite-nav-item"><a href="/docs/auth/limits"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Usage Limits</span></a></li></ul></devsite-expandable-nav></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Realtime Database</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/database"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Introduction</span></a></li><li class="devsite-nav-item"><a href="/docs/database/rtdb-vs-firestore"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Choose a Database</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>iOS</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/database/ios/start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li><li class="devsite-nav-item"><a href="/docs/database/ios/structure-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Structure Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/ios/read-and-write"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Read and Write Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/ios/lists-of-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Work with Lists of Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/ios/offline-capabilities"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Enable Offline Capabilities</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Android</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/database/android/start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li><li class="devsite-nav-item"><a href="/docs/database/android/structure-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Structure Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/android/read-and-write"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Read and Write Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/android/lists-of-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Work with Lists of Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/android/offline-capabilities"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Enable Offline Capabilities</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Web</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/database/web/start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li><li class="devsite-nav-item"><a href="/docs/database/web/structure-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Structure Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/web/read-and-write"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Read and Write Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/web/lists-of-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Work with Lists of Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/web/offline-capabilities"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Enable Offline Capabilities</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Admin</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/database/admin/start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li><li class="devsite-nav-item"><a href="/docs/database/admin/structure-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Structure Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/admin/save-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Save Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/admin/retrieve-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Retrieve Data</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>REST</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/database/rest/start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li><li class="devsite-nav-item"><a href="/docs/database/rest/structure-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Structure Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/rest/save-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Save Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/rest/retrieve-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Retrieve Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/rest/auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Authenticate REST Requests</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>C++</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/database/cpp/start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li><li class="devsite-nav-item"><a href="/docs/database/cpp/structure-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Structure Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/cpp/save-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Save Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/cpp/retrieve-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Retrieve Data</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Unity</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/database/unity/start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li><li class="devsite-nav-item"><a href="/docs/database/unity/structure-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Structure Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/unity/save-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Save Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/unity/retrieve-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Retrieve Data</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Security &amp; Rules</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/database/security"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Understand Rules</span></a></li><li class="devsite-nav-item"><a href="/docs/database/security/get-started"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li><li class="devsite-nav-item"><a href="/docs/database/security/core-syntax"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Structure Security Rules</span></a></li><li class="devsite-nav-item"><a href="/docs/database/security/rules-conditions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Write Conditions for Security Rules</span></a></li><li class="devsite-nav-item"><a href="/docs/database/security/indexing-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Index Data</span></a></li><li class="devsite-nav-item"><a href="/docs/database/rest/app-management"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Manage Rules via REST</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Usage and Performance</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/database/usage/billing"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Understand Billing</span></a></li><li class="devsite-nav-item"><a href="/docs/database/usage/limits"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Realtime Database Limits</span></a></li><li class="devsite-nav-item"><a href="/docs/database/usage/monitor-usage"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Monitor Database Usage</span></a></li><li class="devsite-nav-item"><a href="/docs/database/usage/monitor-performance"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Monitor Database Performance</span></a></li><li class="devsite-nav-item"><a href="/docs/database/usage/sharding"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Scale with Multiple Databases</span></a></li><li class="devsite-nav-item"><a href="/docs/database/usage/profile"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Profile Your Database</span></a></li><li class="devsite-nav-item"><a href="/docs/database/usage/optimize"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Optimize Database Performance</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="/docs/database/backups"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Automated Backups</span></a></li><li class="devsite-nav-item"><a href="/docs/database/extend-with-functions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Extend with Cloud Functions</span></a></li><li class="devsite-nav-item"><a href="/docs/database/video-series"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Video series: Firebase for SQL Developers</span></a></li></ul></devsite-expandable-nav></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Cloud Firestore</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/firestore"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Introduction</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/quickstart"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get started</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Understand Cloud Firestore</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/firestore/rtdb-vs-firestore"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Compare Cloud Firestore and Realtime Database</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/data-model"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Data model</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/manage-data/data-types"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Data types</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/client/libraries"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>SDKs and client libraries</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/query-data/index-overview"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Index types</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/locations"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Database locations</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/bundles"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Data bundles</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Add and manage data</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/firestore/manage-data/structure-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Structure data</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/manage-data/add-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Add data</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/manage-data/transactions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Transactions and batched writes</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/transaction-data-contention"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Data contention in transaction</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/manage-data/delete-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Delete data</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/using-console"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Manage Cloud Firestore with the Firebase Console</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/manage-data/export-import"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Export and import data</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/manage-data/move-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Move data between projects</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Read data</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/firestore/query-data/get-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get data once</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/query-data/listen"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Listen for realtime updates</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/query-data/queries"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Perform simple and compound queries</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/query-data/order-limit-data"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Order and limit data</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/query-data/query-cursors"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Paginate data with query cursors</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/manage-data/enable-offline"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Access data offline</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/query-data/indexing"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Manage indexes</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Secure and validate data</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/firestore/security/overview"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/security/get-started"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get started</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/security/rules-structure"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Structure Security Rules</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/security/rules-conditions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Writing conditions for Security Rules</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/security/insecure-rules"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Fix insecure rules</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/security/test-rules-emulator"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Test your Security Rules</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/security/rules-query"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Securely query data</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/security/rules-fields"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Control access per field</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Solutions</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/firestore/solutions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/solutions/aggregation"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Aggregation Queries</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/solutions/counters"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Distributed counters</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/solutions/search"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Full-text search</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/solutions/presence"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Build presence</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/solutions/role-based-access"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Secure data access for users and groups</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/solutions/delete-collections"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Delete data with a callable Cloud Function</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/solutions/schedule-export"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Schedule data exports</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/solutions/shard-timestamp"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Sharded timestamps</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/solutions/geoqueries"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Geo queries</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/solutions/automate-database-create"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Automating database creation</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/solutions/index-map-field"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Reduce index costs with map fields</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/solutions/serve-bundles"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Serve bundled Firestore content from a CDN</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Usage, limits, and pricing</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/firestore/quotas"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Usage and limits</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/monitor-usage"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Monitor usage</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/pricing"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Understand Cloud Firestore billing</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/billing-example"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Example Cloud Firestore costs</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/storage-size"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Understand storage size calculations</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/best-practices"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Best practices for Cloud Firestore</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Cloud Firestore integrations</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/firestore/use-rest-api"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Use the Cloud Firestore REST API</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/firestore-for-rtdb"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Use Cloud Firestore and Realtime Database</span></a></li><li class="devsite-nav-item
           devsite-nav-beta"><a href="/docs/firestore/extend-with-functions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Extend with Cloud Functions</span><span class="devsite-nav-icon material-icons"
          data-icon="beta"
          data-title="Beta"
          aria-hidden="true"></span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/library-integrations"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Third-party library integrations</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>API reference</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/reference/android/com/google/firebase/firestore/package-summary"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li><li class="devsite-nav-item"><a href="/docs/reference/swift/firebasefirestore/api/reference/Classes"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS — Swift</span></a></li><li class="devsite-nav-item"><a href="/docs/reference/ios/firebasefirestore/api/reference/Classes"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS — Objective-C</span></a></li><li class="devsite-nav-item"><a href="/docs/reference/js/firebase.firestore"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Web</span></a></li><li class="devsite-nav-item"><a href="/docs/reference/functions/providers_firestore_"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Cloud Functions</span></a></li><li class="devsite-nav-item"><a href="//googleapis.dev/nodejs/firestore/latest/"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Node.js</span></a></li><li class="devsite-nav-item"><a href="/docs/reference/admin/java/reference/com/google/firebase/cloud/FirestoreClient"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Java</span></a></li><li class="devsite-nav-item"><a href="/docs/reference/admin/python/firebase_admin.firestore"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Python</span></a></li><li class="devsite-nav-item"><a href="//godoc.org/cloud.google.com/go/firestore"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Go</span></a></li><li class="devsite-nav-item"><a href="//googleapis.github.io/google-cloud-dotnet/docs/Google.Cloud.Firestore/"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>C#</span></a></li><li class="devsite-nav-item"><a href="//googleapis.github.io/google-cloud-php/#/docs/cloud-firestore/latest/firestore/readme"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>PHP</span></a></li><li class="devsite-nav-item"><a href="//googleapis.github.io/google-cloud-ruby/docs/google-cloud-firestore/latest/Google/Firestore/V1beta1"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Ruby</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/reference/rest"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>REST</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/reference/rpc"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>RPC</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Samples</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/firestore/client/samples-ios"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/client/samples-android"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li><li class="devsite-nav-item"><a href="/docs/firestore/client/samples-web"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Web</span></a></li></ul></devsite-expandable-nav></li></ul></devsite-expandable-nav></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Storage</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/storage"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Introduction</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>iOS</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/storage/ios/start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/ios/create-reference"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Create a Reference</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/ios/upload-files"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Upload Files</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/ios/download-files"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Download Files</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/ios/file-metadata"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Use File Metadata</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/ios/delete-files"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Delete Files</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/ios/list-files"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>List Files</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/ios/handle-errors"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Handle Errors</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Android</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/storage/android/start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/android/create-reference"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Create a Reference</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/android/upload-files"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Upload Files</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/android/download-files"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Download Files</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/android/file-metadata"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Use File Metadata</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/android/delete-files"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Delete Files</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/android/list-files"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>List Files</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/android/handle-errors"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Handle Errors</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Web</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/storage/web/start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/web/create-reference"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Create a Reference</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/web/upload-files"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Upload Files</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/web/download-files"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Download Files</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/web/file-metadata"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Use File Metadata</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/web/delete-files"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Delete Files</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/web/list-files"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>List Files</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/web/handle-errors"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Handle Errors</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Admin</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/storage/admin/start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>C++</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/storage/cpp/start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/cpp/create-reference"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Create a Reference</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/cpp/upload-files"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Upload Files</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/cpp/download-files"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Download Files</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/cpp/file-metadata"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Use File Metadata</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/cpp/delete-files"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Delete Files</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/cpp/handle-errors"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Handle Errors</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Unity</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/storage/unity/start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/unity/create-reference"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Create a Reference</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/unity/upload-files"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Upload Files</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/unity/download-files"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Download Files</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/unity/file-metadata"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Use File Metadata</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/unity/delete-files"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Delete Files</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/unity/handle-errors"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Handle Errors</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Security &amp; Rules</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/storage/security"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Understand Security</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/security/get-started"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get Started</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/security/core-syntax"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Structure Security Rules</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/security/rules-conditions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Write Conditions for Security Rules</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="/docs/storage/monitor-storage"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Monitor activity</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/extend-with-functions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Extend with Cloud Functions</span></a></li><li class="devsite-nav-item"><a href="/docs/storage/gcp-integration"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Integrate with Google Cloud</span></a></li></ul></devsite-expandable-nav></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion
           devsite-nav-beta"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Machine Learning</span><span class="devsite-nav-icon material-icons"
          data-icon="beta"
          data-title="Beta"
          aria-hidden="true"></span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Introduction</span></a></li><li class="devsite-nav-item"><a href="/docs/ml/codelabs"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Codelabs</span></a></li><li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path"><span class="devsite-nav-text" tooltip>Custom Models</span></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Use a custom model</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml/use-custom-models"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/ml/ios/use-custom-models"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml/android/use-custom-models"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="/docs/ml/manage-hosted-models"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Deploy &amp; manage custom models</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Migrate from the legacy API</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml/ios/migrate-from-legacy-api"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml/android/migrate-from-legacy-api"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path"><span class="devsite-nav-text" tooltip>Cloud AutoML Vision Edge</span></div></li><li class="devsite-nav-item"><a href="/docs/ml/automl-image-labeling"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/ml/train-image-labeler"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Train image labeling models</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Label images with your models</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml/ios/label-images-with-automl"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml/android/label-images-with-automl"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="/docs/ml/train-object-detector"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Train object detection models</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Detect objects with your models</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml/ios/detect-objects-with-automl"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml/android/detect-objects-with-automl"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="/docs/ml/migrate-automl-datasets"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Migrate datasets</span></a></li><li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path"><span class="devsite-nav-text" tooltip>Use Cloud Vision APIs</span></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Recognize text</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml/recognize-text"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/ml/ios/recognize-text"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml/android/recognize-text"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Label images</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml/label-images"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/ml/ios/label-images"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml/android/label-images"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Recognize landmarks</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml/recognize-landmarks"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/ml/ios/recognize-landmarks"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml/android/recognize-landmarks"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Deprecated Vision SDKs</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Recognize text</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml/ios/recognize-text-deprecated"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml/android/recognize-text-deprecated"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Label images</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml/ios/label-images-deprecated"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml/android/label-images-deprecated"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Recognize landmarks</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml/ios/recognize-landmarks-deprecated"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml/android/recognize-landmarks-deprecated"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path"><span class="devsite-nav-text" tooltip>Advanced Topics</span></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>A/B test two versions of a model</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml/ios/ab-test-models"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml/android/ab-test-models"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path"><span class="devsite-nav-text" tooltip>Prepare for Production</span></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Protect your Cloud credentials</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml/ios/secure-api-key"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml/android/secure-api-key"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path"><span class="devsite-nav-text" tooltip>Legacy Documentation</span></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>ML Kit for Firebase</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml-kit"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Introduction</span></a></li><li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path"><span class="devsite-nav-text" tooltip>Vision</span></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Recognize text</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml-kit/recognize-text"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/ios/recognize-text"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/android/recognize-text"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Detect faces</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml-kit/detect-faces"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/face-detection-concepts"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Concepts</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/ios/detect-faces"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/android/detect-faces"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Scan barcodes</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml-kit/read-barcodes"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/ios/read-barcodes"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/android/read-barcodes"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Label images</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml-kit/label-images"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/ios/label-images"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/android/label-images"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Detect and track objects</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml-kit/object-detection"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/ios/detect-objects"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/android/detect-objects"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Recognize landmarks</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml-kit/recognize-landmarks"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/ios/recognize-landmarks"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/android/recognize-landmarks"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path"><span class="devsite-nav-text" tooltip>AutoML Vision Edge</span></div></li><li class="devsite-nav-item"><a href="/docs/ml-kit/automl-image-labeling"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/train-image-labeler"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Train image labeling models</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Label images with your models</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml-kit/ios/label-images-with-automl"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/android/label-images-with-automl"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="/docs/ml-kit/migrate-automl-datasets"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Migrate datasets</span></a></li><li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path"><span class="devsite-nav-text" tooltip>Natural Language</span></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Identify the language of text</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml-kit/identify-languages"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/ios/identify-languages"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/android/identify-languages"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Translate text</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml-kit/translation"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/ios/translate-text"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/android/translate-text"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/translation-terms"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Usage guidelines</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Generate smart replies</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml-kit/generate-smart-replies"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/ios/generate-smart-replies"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/android/generate-smart-replies"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path"><span class="devsite-nav-text" tooltip>Custom Models</span></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Use a custom model</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml-kit/use-custom-models"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/ios/use-custom-models"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/android/use-custom-models"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="/docs/ml-kit/manage-hosted-models"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Manage hosted custom models</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Use a custom TensorFlow Lite build</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml-kit/ios/use-custom-tflite"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/android/use-custom-tflite"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path"><span class="devsite-nav-text" tooltip>Advanced Topics</span></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>A/B test two versions of a model</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml-kit/ios/ab-test-models"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/android/ab-test-models"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path"><span class="devsite-nav-text" tooltip>Prepare for Production</span></div></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Reduce app package size</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml-kit/android/reduce-app-size"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Protect your Cloud credentials</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/ml-kit/ios/secure-api-key"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>iOS</span></a></li><li class="devsite-nav-item"><a href="/docs/ml-kit/android/secure-api-key"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android</span></a></li></ul></devsite-expandable-nav></li></ul></devsite-expandable-nav></li></ul></devsite-expandable-nav></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Hosting</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/hosting"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Introduction</span></a></li><li class="devsite-nav-item"><a href="/docs/hosting/use-cases"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>What can you do with Firebase Hosting?</span></a></li><li class="devsite-nav-item"><a href="/docs/hosting/quickstart"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get started</span></a></li><li class="devsite-nav-item
           devsite-nav-new"><a href="/docs/hosting/test-preview-deploy"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Test, preview, then deploy</span><span class="devsite-nav-icon material-icons"
          data-icon="new"
          data-title="New!"
          aria-hidden="true"></span></a></li><li class="devsite-nav-item
           devsite-nav-new"><a href="/docs/hosting/github-integration"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Deploy via GitHub pull requests</span><span class="devsite-nav-icon material-icons"
          data-icon="new"
          data-title="New!"
          aria-hidden="true"></span></a></li><li class="devsite-nav-item"><a href="/docs/hosting/multisites"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Share project resources across multiple sites</span></a></li><li class="devsite-nav-item"><a href="/docs/hosting/custom-domain"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Connect a custom domain</span></a></li><li class="devsite-nav-item"><a href="/docs/hosting/full-config"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Configure hosting behavior</span></a></li><li class="devsite-nav-item"><a href="/docs/hosting/i18n-rewrites"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Configure i18n rewrites</span></a></li><li class="devsite-nav-item"><a href="/docs/hosting/reserved-urls"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Add SDKs using reserved URLs</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Serve dynamic content and host microservices</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/hosting/serverless-overview"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/hosting/functions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Use Cloud Functions for Firebase</span></a></li><li class="devsite-nav-item"><a href="/docs/hosting/cloud-run"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Use Cloud Run</span></a></li><li class="devsite-nav-item"><a href="/docs/hosting/manage-cache"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Manage cache behavior</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="/docs/hosting/manage-hosting-resources"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Manage live &amp; preview channels, releases, and versions</span></a></li><li class="devsite-nav-item
           devsite-nav-new"><a href="/docs/hosting/web-request-logs-and-metrics"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Monitor web request data with Cloud Logging</span><span class="devsite-nav-icon material-icons"
          data-icon="new"
          data-title="New!"
          aria-hidden="true"></span></a></li><li class="devsite-nav-item"><a href="/docs/hosting/usage-quotas-pricing"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Usage, quotas, and pricing</span></a></li><li class="devsite-nav-item"><a href="/docs/hosting/api-deploy"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Deploy using the REST API</span></a></li></ul></devsite-expandable-nav></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Cloud Functions</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/functions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Introduction</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/use-cases"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>What can I do with Cloud Functions?</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/get-started"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get started</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/beta-v1-diff"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Upgrade to v1.0+ from beta</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Call functions directly</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/functions/callable"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Call functions from your app</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/http-events"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Call functions via HTTP requests</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/schedule-functions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Run functions on a schedule</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Trigger background functions</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-beta"><a href="/docs/functions/firestore-events"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Cloud Firestore triggers</span><span class="devsite-nav-icon material-icons"
          data-icon="beta"
          data-title="Beta"
          aria-hidden="true"></span></a></li><li class="devsite-nav-item
           devsite-nav-beta"><a href="/docs/functions/database-events"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Realtime Database triggers</span><span class="devsite-nav-icon material-icons"
          data-icon="beta"
          data-title="Beta"
          aria-hidden="true"></span></a></li><li class="devsite-nav-item
           devsite-nav-beta"><a href="/docs/functions/rc-events"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Remote Config triggers</span><span class="devsite-nav-icon material-icons"
          data-icon="beta"
          data-title="Beta"
          aria-hidden="true"></span></a></li><li class="devsite-nav-item
           devsite-nav-beta"><a href="/docs/functions/auth-events"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Authentication triggers</span><span class="devsite-nav-icon material-icons"
          data-icon="beta"
          data-title="Beta"
          aria-hidden="true"></span></a></li><li class="devsite-nav-item
           devsite-nav-beta"><a href="/docs/functions/analytics-events"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Analytics triggers</span><span class="devsite-nav-icon material-icons"
          data-icon="beta"
          data-title="Beta"
          aria-hidden="true"></span></a></li><li class="devsite-nav-item
           devsite-nav-beta"><a href="/docs/functions/gcp-storage-events"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Cloud Storage triggers</span><span class="devsite-nav-icon material-icons"
          data-icon="beta"
          data-title="Beta"
          aria-hidden="true"></span></a></li><li class="devsite-nav-item
           devsite-nav-beta"><a href="/docs/functions/pubsub-events"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Pub/Sub triggers</span><span class="devsite-nav-icon material-icons"
          data-icon="beta"
          data-title="Beta"
          aria-hidden="true"></span></a></li><li class="devsite-nav-item
           devsite-nav-beta"><a href="/docs/functions/test-lab-events"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Test Lab triggers</span><span class="devsite-nav-icon material-icons"
          data-icon="beta"
          data-title="Beta"
          aria-hidden="true"></span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Write functions</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/functions/manage-functions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Manage deployment and runtime options</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/typescript"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Write functions in TypeScript</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/terminate-functions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Sync, async, and promises</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/retries"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Retry asynchronous functions</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/config-env"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Environment configuration</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/organize-functions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Organize functions</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/handle-dependencies"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Handling dependencies</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/networking"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Optimizing networking</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/tips"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Tips &amp; tricks</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Test functions</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/functions/local-emulator"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Run functions locally</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/unit-testing"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Unit testing functions</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/local-shell"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Test functions interactively</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Monitor functions</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/functions/writing-and-viewing-logs"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Write and view logs</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/reporting-errors"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Report errors</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/monitored-metrics"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>View monitored metrics</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>API Reference</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/reference/functions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Firebase SDK for Cloud Functions</span></a></li><li class="devsite-nav-item"><a href="/docs/reference/functions/test"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Test SDK</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/callable-reference"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Protocol specification for https.onCall</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="/docs/functions/video-series"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Video Series: learn Cloud Functions</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/functions-and-firebase"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Cloud Functions and Firebase</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/locations"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Cloud Functions locations</span></a></li><li class="devsite-nav-item"><a href="/docs/functions/quotas"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Quotas and limits</span></a></li></ul></devsite-expandable-nav></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Security Rules</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/rules"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Introduction</span></a></li><li class="devsite-nav-item"><a href="/docs/rules/get-started"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Get started</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Understand Security Rules</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/rules/rules-language"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Security Rules language</span></a></li><li class="devsite-nav-item"><a href="/docs/rules/rules-behavior"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>How Security Rules work</span></a></li><li class="devsite-nav-item"><a href="/docs/rules/rules-and-auth"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Security Rules and Firebase Authentication</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Write Security Rules</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/rules/basics"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Basic Security Rules</span></a></li><li class="devsite-nav-item"><a href="/docs/rules/insecure-rules"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Avoid insecure rules</span></a></li><li class="devsite-nav-item"><a href="/docs/rules/data-validation"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Data validation</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Test Security Rules</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/rules/emulator-setup"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Set up the emulator</span></a></li><li class="devsite-nav-item"><a href="/docs/rules/unit-tests"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Build unit tests</span></a></li><li class="devsite-nav-item"><a href="/docs/rules/emulator-reports"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Generate test reports</span></a></li><li class="devsite-nav-item"><a href="/docs/rules/simulator"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Quickly validate Security Rules</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="/docs/rules/manage-deploy"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Manage and deploy Security Rules</span></a></li></ul></devsite-expandable-nav></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion
           devsite-nav-beta"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Extensions</span><span class="devsite-nav-icon material-icons"
          data-icon="beta"
          data-title="Beta"
          aria-hidden="true"></span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/docs/extensions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Introduction</span></a></li><li class="devsite-nav-item
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path"><span class="devsite-nav-text" tooltip>Use an extension in your project</span></div></li><li class="devsite-nav-item"><a href="/docs/extensions/overview-use-extensions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/docs/extensions/install-extensions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Install an extension</span></a></li><li class="devsite-nav-item"><a href="/docs/extensions/manage-installed-extensions"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Manage installed extensions</span></a></li><li class="devsite-nav-item"><a href="/docs/extensions/permissions-granted-to-extension"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Permissions granted to an extension</span></a></li></ul></devsite-expandable-nav></li>

  <li class="devsite-nav-item
           devsite-nav-divider
           devsite-nav-heading"><div class="devsite-nav-title devsite-nav-title-no-path"><span class="devsite-nav-text" tooltip>Related products</span></div></li>

  <li class="devsite-nav-item"><a href="//firebase.google.com/docs/cloud-messaging/"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Cloud Messaging</span></a></li>

  <li class="devsite-nav-item"><a href="//firebase.google.com/docs/remote-config/"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Remote Config</span></a></li>
          </ul>
        
        
          
    
      
      <ul class="devsite-nav-list" menu="Products"
          aria-label="Side menu" hidden>
        
          
            
            
              
<li class="devsite-nav-item">

  
  <a href="/products-build"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Build"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="build">
  
    <span class="devsite-nav-text" tooltip >
      Build
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/products-release"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Release &amp; Monitor"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="release&amp;Monitor">
  
    <span class="devsite-nav-text" tooltip >
      Release &amp; Monitor
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/products-engage"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Engage"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="engage">
  
    <span class="devsite-nav-text" tooltip >
      Engage
   </span>
    
  
  </a>
  

</li>

            
          
        
      </ul>
    
  
    
  
    
  
    
      
      <ul class="devsite-nav-list" menu="Docs"
          aria-label="Side menu" hidden>
        
          
            
            
              
<li class="devsite-nav-item">

  
  <a href="/docs"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Overview"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="overview">
  
    <span class="devsite-nav-text" tooltip >
      Overview
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/guides"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Fundamentals"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="fundamentals">
  
    <span class="devsite-nav-text" tooltip >
      Fundamentals
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/build"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Build"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="build">
  
    <span class="devsite-nav-text" tooltip >
      Build
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/release"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Release &amp; Monitor"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="release&amp;Monitor">
  
    <span class="devsite-nav-text" tooltip >
      Release &amp; Monitor
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/engage"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Engage"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="engage">
  
    <span class="devsite-nav-text" tooltip >
      Engage
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/reference"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Reference"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="reference">
  
    <span class="devsite-nav-text" tooltip >
      Reference
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/samples"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Samples"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="samples">
  
    <span class="devsite-nav-text" tooltip >
      Samples
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/libraries"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Libraries"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="libraries">
  
    <span class="devsite-nav-text" tooltip >
      Libraries
   </span>
    
  
  </a>
  

</li>

            
          
        
      </ul>
    
  
    
  
    
  
        
        
          
    
  
    
      
      <ul class="devsite-nav-list" menu="Fundamentals"
          aria-label="Side menu" hidden>
        
          
            
            
              
<li class="devsite-nav-item">

  
  <a href="/docs/ios/setup"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Add Firebase - iOS"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="addFirebase-IOS">
  
    <span class="devsite-nav-text" tooltip >
      Add Firebase - iOS
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/android/setup"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Add Firebase - Android"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="addFirebase-Android">
  
    <span class="devsite-nav-text" tooltip >
      Add Firebase - Android
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/web/setup"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Add Firebase - Web"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="addFirebase-Web">
  
    <span class="devsite-nav-text" tooltip >
      Add Firebase - Web
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/cpp/setup"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Add Firebase - C++"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="addFirebase-C++">
  
    <span class="devsite-nav-text" tooltip >
      Add Firebase - C++
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/unity/setup"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Add Firebase - Unity"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="addFirebase-Unity">
  
    <span class="devsite-nav-text" tooltip >
      Add Firebase - Unity
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/admin/setup"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Add Firebase - Server environments"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="addFirebase-ServerEnvironments">
  
    <span class="devsite-nav-text" tooltip >
      Add Firebase - Server environments
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/projects/learn-more"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Manage Projects"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="manageProjects">
  
    <span class="devsite-nav-text" tooltip >
      Manage Projects
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/app-check"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Protect project resources with App Check"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="protectProjectResourcesWithAppCheck">
  
    <span class="devsite-nav-text" tooltip >
      Protect project resources with App Check
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/emulator-suite"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Use Emulator Suite"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="useEmulatorSuite">
  
    <span class="devsite-nav-text" tooltip >
      Use Emulator Suite
   </span>
    
  
  </a>
  

</li>

            
          
        
      </ul>
    
  
    
      
      <ul class="devsite-nav-list" menu="Build"
          aria-label="Side menu" hidden>
        
          
            
            
              
<li class="devsite-nav-item">

  
  <a href="/docs/emulator-suite"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Emulator Suite"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="emulatorSuite">
  
    <span class="devsite-nav-text" tooltip >
      Emulator Suite
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/auth"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Authentication"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="authentication">
  
    <span class="devsite-nav-text" tooltip >
      Authentication
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/database"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Realtime Database"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="realtimeDatabase">
  
    <span class="devsite-nav-text" tooltip >
      Realtime Database
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/firestore"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Firestore"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="firestore">
  
    <span class="devsite-nav-text" tooltip >
      Firestore
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/storage"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Storage"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="storage">
  
    <span class="devsite-nav-text" tooltip >
      Storage
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/ml"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: ML"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="mL">
  
    <span class="devsite-nav-text" tooltip >
      ML
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/hosting"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Hosting"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="hosting">
  
    <span class="devsite-nav-text" tooltip >
      Hosting
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/functions"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Cloud Functions"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="cloudFunctions">
  
    <span class="devsite-nav-text" tooltip >
      Cloud Functions
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/rules"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Security Rules"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="securityRules">
  
    <span class="devsite-nav-text" tooltip >
      Security Rules
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/extensions"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Extensions"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="extensions">
  
    <span class="devsite-nav-text" tooltip >
      Extensions
   </span>
    
  
  </a>
  

</li>

            
          
        
      </ul>
    
  
    
      
      <ul class="devsite-nav-list" menu="Release &amp; Monitor"
          aria-label="Side menu" hidden>
        
          
            
            
              
<li class="devsite-nav-item">

  
  <a href="/docs/crashlytics"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Crashlytics"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="crashlytics">
  
    <span class="devsite-nav-text" tooltip >
      Crashlytics
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/perf-mon"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Performance Monitoring"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="performanceMonitoring">
  
    <span class="devsite-nav-text" tooltip >
      Performance Monitoring
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/test-lab"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Test Lab"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="testLab">
  
    <span class="devsite-nav-text" tooltip >
      Test Lab
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/app-distribution"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: App Distribution"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="appDistribution">
  
    <span class="devsite-nav-text" tooltip >
      App Distribution
   </span>
    
  
  </a>
  

</li>

            
          
        
      </ul>
    
  
    
      
      <ul class="devsite-nav-list" menu="Engage"
          aria-label="Side menu" hidden>
        
          
            
            
              
<li class="devsite-nav-item">

  
  <a href="/docs/analytics"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Analytics"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="analytics">
  
    <span class="devsite-nav-text" tooltip >
      Analytics
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/remote-config"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Remote Config"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="remoteConfig">
  
    <span class="devsite-nav-text" tooltip >
      Remote Config
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/predictions"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Predictions"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="predictions">
  
    <span class="devsite-nav-text" tooltip >
      Predictions
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/ab-testing"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: A/B Testing"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="a/BTesting">
  
    <span class="devsite-nav-text" tooltip >
      A/B Testing
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/cloud-messaging"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Cloud Messaging"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="cloudMessaging">
  
    <span class="devsite-nav-text" tooltip >
      Cloud Messaging
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/in-app-messaging"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: In-App Messaging"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="in-AppMessaging">
  
    <span class="devsite-nav-text" tooltip >
      In-App Messaging
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/dynamic-links"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Dynamic Links"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="dynamicLinks">
  
    <span class="devsite-nav-text" tooltip >
      Dynamic Links
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/admob"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google AdMob"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="googleAdMob">
  
    <span class="devsite-nav-text" tooltip >
      Google AdMob
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/ads"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Google Ads"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="googleAds">
  
    <span class="devsite-nav-text" tooltip >
      Google Ads
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/docs/app-indexing"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: App Indexing"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="appIndexing">
  
    <span class="devsite-nav-text" tooltip >
      App Indexing
   </span>
    
  
  </a>
  

</li>

            
          
        
      </ul>
    
  
    
  
    
  
    
  
        
      </div>
    
  </div>
</nav>
        
      </devsite-book-nav>
      <section id="gc-wrapper">
        <main role="main" class="devsite-main-content"
            has-book-nav
            has-toc>
          <devsite-toc class="devsite-nav"
            ></devsite-toc>
          <devsite-content>
            
              

















<article class="devsite-article"><style>
      /* Styles inlined from /styles/docs.css */
.center {
  text-align: center
}

/* Used in AdMob code examples */
.oldcode {
  opacity: .40;

  /* IE 8 */
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";
  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=40);

  /* IE <= 7 */
  filter:alpha(opacity=40);
}

.newcode {
  font-weight: bold;
}

/* Device Screenshots */
.deviceshot {
  max-width: 700px;
  max-height: 400px;
}


/* Start Changelog styles */
.badge {
    position: relative;
    top: -3px;
    border-radius: 16px;
    display: inline-block;
    width: 90px;
    height: 32px;
    line-height: 32px;
    margin-right: 10px;
    text-transform: uppercase;
    font-size: 13px;
    font-weight: 700;
    text-align: center;
}

/* Colours for each type of changelog entry. */
/* TODO: Change the colours to match the site colour scheme */

.badge-changed {
    background-color: #F4B400;
    color: #fff;
}

.badge-fixed {
    background-color: #4285F4;
    color: #fff;
}

.badge-important {
    background-color: #DB4437;
    color: #fff;
}

.badge-feature {
    background-color: #0F9D58;
    color: #fff;
}

.badge-deprecated {
    background-color: #DB4437;
    color: #fff;
}

.badge-issue {
    background-color: #DB4437;
    color: #fff;
}

.changelog > ul  {
  padding-left: 0;
}

.changelog > ul > li {
  list-style-type: none;
  margin-bottom: 22px;
}

.firebase-support-release-page .changelog > ul {
  list-style-type: none;
  padding-left: 110px;
}

.firebase-release-roundup .changelog > ul {
  list-style-type: disc outside;
  padding-left: 40px;
}

.firebase-release-roundup .changelog > ul > li {
  list-style-type: disc outside;
  margin-bottom: 12px;
}

.release-changed::before, .release-feature::before, .release-fixed::before,
.release-issue::before, .release-deprecated::before, .release-removed::before,
.release-unchanged::before, .release-rules::before,
.release-android::before, .release-android-bom::before, .release-ios::before,
.release-admin::before, .release-cpp::before, .release-unity::before,
.release-functions::before, .release-javascript::before {
  display: block;
  float: left;
  color: white;
  width: 100px;
  height: 32px;
  margin-left: -110px;
  margin-right: 10px;
  margin-top: -5px;
  padding-top: 4px;
  text-transform: uppercase;
  font-size: 13px;
  font-weight: 700;
  text-align: center;
  border-radius: 16px;
}

.release-changed::before {
  content: "changed";
  background-color: #F4B400;
}

.release-feature::before {
  content: "feature";
  background-color: #0F9D58;
}

.release-fixed::before {
  content: "fixed";
  background-color: #4285F4;
}

.release-issue::before {
  content: "issue";
  background-color: #DB4437;
}

.release-deprecated::before {
  content: "deprecated";
  background-color: #E65100;
}

.release-removed::before {
  content: "removed";
  background-color: #546E7A;
}

.release-unchanged::before {
  content: "no change";
  background-color: #CCCCCC;
}

.release-android::before {
  content: "android";
  background-color: #A4C639;
}

.release-android-bom::before {
  content: "android bom";
  background-color: #A4C639;
}

.release-ios::before {
  text-transform: none;
  content: "iOS";
  background-color: #007aff;
}

.release-admin::before {
  content: "admin";
  background-color: #039BE5;
}

.release-cpp::before {
  content: "c++";
  background-color: #FF8A65;
}

.release-unity::before {
  content: "unity";
  background-color: #00cccc;
}

.release-functions::before {
  content: "functions";
  background-color: #2C384A;
}

.release-javascript::before {
  content: "javascript";
  background-color: #7e57c2;
}

.release-rules::before {
  content: "rules";
  background-color: #1B3A57;
}

/* End Changelog styles */


/* Docs Overview page styles */

.docs-android,
.docs-ios,
.docs-web,
.docs-cpp,
.docs-unity {
  height: 64px;
  width: 64px;
  margin: 10px 16px 0 -16px;
}

.firebase-docs-overview .devsite-landing-row h2 {
  margin: 80px 0 -40px;
}

.devsite-landing-row-3-up .docs-landing-row-item {
    width: calc((100% - 80px)/2);
    display: inline-block;
}

.docs-landing-icon {
  font-size: 48px;
  height: 48px;
  margin: 11px;
  width: 48px;
}

.firebase-reference-list {
  display: -ms-flex;
  display: flex;
  -ms-flex-wrap: wrap;
  flex-wrap: wrap;
  list-style: none;
  margin: 0 0 40px;
  padding: 0;
}

.firebase-reference-list-item {
  -ms-flex: 0 0 50%;
  flex: 0 0 50%;
  margin: 40px 0 0;
  padding: 0;
}

.firebase-reference-list-item > a {
  -ms-flex-align: center;
  align-items: center;
  display: -ms-flex;
  display: flex;
}

.firebase-reference-list-item > a:not(:hover) h3 {
  color: #424242;
}

.firebase-reference-list-item > a:not(:hover) li,
.firebase-reference-list-item > a:not(:hover) p {
  color: #757575;
}

.firebase-reference-list-item .docs-landing-icon {
  -ms-flex-align: center;
  align-items: center;
  background-color: #f5f5f5;
  border-radius: 50%;
  -ms-flex: 0 0 88px;
  flex: 0 0 88px;
  height: 88px;
  -ms-justify-content: center;
  justify-content: center;
  margin: 0 16px 0 0;
  padding: 20px;
}

.firebase-reference-list-item h3 {
  -ms-flex: 0 0 auto;
  flex: 0 0 auto;
  font-size: 18px;
  line-height: 28px;
  margin: 0;
}

.firebase-reference-list-item ul {
  list-style: none;
  padding: 0;
}

.docs-android,
.docs-ios,
.docs-web,
.docs-cpp,
.docs-unity {
  height: 88px;
  width: auto;
}

.firebase-reference-list-item.docs-android .docs-landing-icon {
  color: #00bfa5;
}

.firebase-reference-list-item.docs-cpp .docs-landing-icon {
  color: #fd8c09;
}

.firebase-reference-list-item.docs-ios .docs-landing-icon {
  color: #16aaca;
}

.firebase-reference-list-item.docs-unity .docs-landing-icon {
  color: #000000;
}

.firebase-reference-list-item.docs-web .docs-landing-icon {
  color: #c52062;
}

.firebase-reference-list-item.docs-http .docs-landing-icon {
  color: #3F51B5;
}

@media (max-width: 1000px) {
  .firebase-reference-list {
    -ms-flex-direction: column;
    flex-direction: column;
  }
}

/* end Docs Overview page styles */

/* Full-page platform selector for Crashlytics docs */
/* Note: h3 in selector content must include hide-from-toc */

.full-page-selector, .full-page-selector-content {
  border: none;
  font-size: inherit;
}

.full-page-selector > .kd-buttonbar {
  margin: 32px 0px;
}

.full-page-selector > section {
  display: none;
}

.full-page-selector-content > .selected {
  padding: 0;
  font-size: inherit;
}

.full-page-selector-content > .kd-buttonbar {
  display: none;
}

.select-page {
  display: none;
}

.select-page + .ds-selector-tabs,
.after-selection ~ .ds-selector-tabs {
  border: none;
  font-size: inherit;
}

.select-page + .ds-selector-tabs > .kd-buttonbar {
  margin: 32px 0px;
}

.select-page + .ds-selector-tabs > section {
  display: none;
}

.after-selection ~ .ds-selector-tabs > .selected {
  padding: 0;
  font-size: inherit;
}

.after-selection ~ .ds-selector-tabs > section p {
  line-height: 24px;
}

.after-selection ~ .ds-selector-tabs > .kd-buttonbar {
  display: none;
}

/* End full-page platform selector */

/* Custom beta and alpha indicators (v1 format, followed by v2 format) */

.devsite-nav-alpha .devsite-nav-icon::before,
.devsite-nav-icon[data-icon="alpha"]::before {
  content: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTMuMjA2IDE1YTU0LjIxNCA1NC4yMTQgMCAwIDEtLjkyLTIuNTc4bC0uMTQtLjQxNGE4MS43NiA4MS43NiAwIDAgMC0uMTM2LS40MDJDMTAuODUgMTMuNjcyIDkuNTYyIDE0LjUgNy41IDE0LjUgNC44MSAxNC41IDMgMTIuNjE2IDMgOXMxLjgxLTUuNSA0LjUtNS41YzIuMDYyIDAgMy4zNS44MjggNC41MSAyLjg5NGwuMTM3LS40MDIuMTM5LS40MTRjLjM4LTEuMTI3LjY1My0xLjkwMi45Mi0yLjU3OGgyLjE2NmMtLjM2NC44My0uNjcyIDEuNjgtMS4xOSAzLjIxN2wtLjE0LjQxM0E1Ny45OSA1Ny45OSAwIDAgMSAxMy4xOTQgOWMuMjc1LjcxLjU1NCAxLjQ5OC44NDggMi4zN2wuMTQuNDEzYy41MTggMS41MzguODI2IDIuMzg3IDEuMTkgMy4yMTdoLTIuMTY2ek03LjUgNS41QzUuOTMyIDUuNSA1IDYuNDcgNSA5YzAgMi41My45MzIgMy41IDIuNSAzLjUgMS40OTcgMCAyLjQ0NC0uOTE3IDMuNTM1LTMuNUM5Ljk0NCA2LjQxNyA4Ljk5NyA1LjUgNy41IDUuNXoiIGZpbGw9InJnYmEoMCwwLDAsLjM4KSIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+');
}

.devsite-nav-beta .devsite-nav-icon::before,
.devsite-nav-icon[data-icon="beta"]::before {
  content: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTIuMjM2IDcuNjgzQTQgNCAwIDAgMSAxMCAxNUg3djJINVY0YTIgMiAwIDAgMSAyLTJoMi41YTMuNSAzLjUgMCAwIDEgMi43MzYgNS42ODN6TTcgMTNoM2EyIDIgMCAxIDAgMC00SDd2NHptMC02aDIuNWExLjUgMS41IDAgMCAwIDAtM0g3djN6IiBmaWxsPSJyZ2JhKDAsMCwwLC4zOCkiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==');
}


.firebase-platform-label {
 font: 500 12px/24px Roboto,sans-serif;
}
/* Full-page platform selector dropdown */
/* Note: use menu variables in _elements.html file */

.full-page-selector-dropdown {
  border: none;
  position: relative;
  float: left;
  display: inline-block;
}

.full-page-selector-dropdown > .ds-selector-tabs {
    display: none;
    position: absolute;
    min-width: 160px;
    z-index: 1;
}

.full-page-selector-dropdown:hover .ds-selector-tabs {
    display: block;
    margin: 0;
}

.full-page-selector-dropdown:hover .kd-tabbutton {
    display: block;
    border: none;
    height: inherit;
    text-align: left;
}

.full-page-selector-dropdown:hover .kd-buttonbar {
    border: none;
    height: inherit;
}

.full-page-selector-dropdown h3:hover {
    color: white;
    background-color: #039be5;
}

.full-page-selector-dropdown:hover .devsite-overflow-menu-button {
    display: none;
}

      </style>
  
  
    <div class="devsite-banner devsite-banner-announcement"
         >
      <div class="devsite-banner-message">
        <div class="devsite-banner-message-text">
          <style>
  .devsite-banner-announcement {
    background: #e1f3fc;
    color: #0288d1;
    font-weight: 500;
  }
  .devsite-banner-announcement a {
    color: #0288d1;
    font-weight: 700;
  }
  .devsite-banner-announcement a:link,
  .devsite-banner-announcement a:visited {
    background: 0;
  }
  .devsite-banner-announcement a:hover,
  .devsite-banner-announcement a:focus {
    text-decoration: none;
  }
  .devsite-banner-announcement .devsite-banner-message-text {
    margin: 0 auto;
  }
</style> Check out what’s new from Firebase@ Google I/O 2021, and join our <a href="https://services.google.com/fb/forms/firebasealphaprogram/" target="_blank" rel="noopener noreferrer">alpha program</a> for early access to the new Remote Config personalization feature. <a href="https://firebase.googleblog.com/2021/05/whats-new-from-firebase-at-google-io.html" target="_blank" rel="noopener noreferrer">Learn more</a>

        </div>
      </div>
    </div>
  
  

  <div class="devsite-article-meta nocontent" role="navigation">
    
    
    <ul class="devsite-breadcrumb-list"
  
    aria-label="Breadcrumb">
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
  <a href="https://firebase.google.com/"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="1"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="1"
      
        track-metadata-eventdetail="Firebase"
      
    >
    
        Firebase
      
  </a>
  
    
  </li>
  
  <li class="devsite-breadcrumb-item
             ">
    
      
      <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
    
    
    
      
  <a href="https://firebase.google.com/docs"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="2"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="2"
      
        track-metadata-eventdetail=""
      
    >
    
        Docs
      
  </a>
  
    
  </li>
  
  <li class="devsite-breadcrumb-item
             ">
    
      
      <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
    
    
    
      
  <a href="https://firebase.google.com/docs/build"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="3"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="3"
      
        track-metadata-eventdetail=""
      
    >
    
        Build
      
  </a>
  
    
  </li>
  
</ul>
    
      
    <devsite-thumb-rating position="header">
       <template class="thumb-down-categories">
  [{
      "type": "thumb-down",
      "id": "missingTheInformationINeed",
      "label":"Missing the information I need"
    },{
      "type": "thumb-down",
      "id": "tooComplicatedTooManySteps",
      "label":"Too complicated / too many steps"
    },{
      "type": "thumb-down",
      "id": "outOfDate",
      "label":"Out of date"
    },{
      "type": "thumb-down",
      "id": "samplesCodeIssue",
      "label":"Samples / code issue"
    },{
      "type": "thumb-down",
      "id": "otherDown",
      "label":"Other"
    }]
  </template>
       <template class="thumb-up-categories">
  [{
      "type": "thumb-up",
      "id": "easyToUnderstand",
      "label":"Easy to understand"
    },{
      "type": "thumb-up",
      "id": "solvedMyProblem",
      "label":"Solved my problem"
    },{
      "type": "thumb-up",
      "id": "otherUp",
      "label":"Other"
    }]
  </template>
       
         
         
         <template class="thumb-rating-feedback">
         <devsite-feedback
  position="thumb-rating"
  project-name="Firebase"
  product-id="719752"
  bucket=""
  context=""
  version="t-devsite-webserver-20210601-r02-rc00.435605028023836298"
  data-label="Send Feedback Button"
  track-type="feedback"
  track-name="sendFeedbackLink"
  track-metadata-position="thumb-rating"
  
  
    project-feedback-url="https://firebase.google.com/support/contact/bugs-features/"
  
  
    
      project-icon="https://firebase.google.com/_static/firebase/images/logo.png"
    
  
  
    project-support-url="https://firebase.google.com/support/"
  
  feedback-type="thumb-rating">

  <button>
  
    Need to tell us more?
  
  </button>
</devsite-feedback>
         </template>
       
    </devsite-thumb-rating>
  
    
  </div>
  
    <devsite-feedback
  position="header"
  project-name="Firebase"
  product-id="719752"
  bucket=""
  context=""
  version="t-devsite-webserver-20210601-r02-rc00.435605028023836298"
  data-label="Send Feedback Button"
  track-type="feedback"
  track-name="sendFeedbackLink"
  track-metadata-position="header"
  
  
    project-feedback-url="https://firebase.google.com/support/contact/bugs-features/"
  
  
    
      project-icon="https://firebase.google.com/_static/firebase/images/logo.png"
    
  
  
    project-support-url="https://firebase.google.com/support/"
  
  feedback-type="thumb-rating">

  <button>
  
    
    Send feedback
  
  </button>
</devsite-feedback>
  
  
    <h1 class="devsite-page-title">Get realtime updates with Cloud Firestore</h1>
  

  <devsite-toc class="devsite-nav" devsite-toc-embedded
               >
  </devsite-toc>

  

  <div class="devsite-article-body clearfix
    ">

    
      

    
    
  

<style>
  aside.note {
    clear: both;
  }
</style>

<div class="video-wrapper">
  <iframe class="devsite-embedded-youtube-video" data-video-id="3aoxOtMM2rc"
          data-autohide="1" data-showinfo="0" frameborder="0" allowfullscreen>
  </iframe>
</div>

<p>You can <em>listen</em> to a document with the <code translate="no" dir="ltr">onSnapshot()</code> method. An initial
call using the callback you provide creates a document snapshot immediately with
the current contents of the single document. Then, each time
the contents change, another call updates the document snapshot.</p>
<aside class="note"><strong>Note:</strong><span> Realtime listeners are not supported in the PHP client library.</span></aside>
<div class="ds-selector-tabs" data-ds-scope="lang">








  <section>
    <h3 id="web-v8" data-text="Web v8"><span class="two-line-tab"><span tab-label="">Web v8</span></span></h3>
<pre class="prettyprint lang-js" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-web/firestore/test.firestore.js" data-region-tag="listen_document">db.collection(&quot;cities&quot;).doc(&quot;SF&quot;)
    .onSnapshot((doc) =&gt; {
        console.log(&quot;Current data: &quot;, doc.data());
    });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-web/blob/ceaa80767e5b244fcb2f42dd4fe8889c9818d81a/firestore/test.firestore.js#L623-L626" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-web/firestore/test.firestore.js#listen_document" >test.firestore.js</a></div></pre>
  </section>
  <section>
    <h3 id="web-v9" data-text="Web v9"><span class="two-line-tab"><span tab-label="(Beta)">Web v9</span></span></h3>
    <aside class="note" style="padding-top:8px; padding-bottom:8px;">
    <a href="//firebase.google.com/docs/web/learn-more#modular-version">Learn more</a> about the tree-shakeable Web v9 modular SDK, currently in Beta.</aside>
<pre class="prettyprint lang-js" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-web/snippets/firestore-next/test-firestore/listen_document.js" data-region-tag="listen_document_modular">import { doc, onSnapshot } from &quot;firebase/firestore&quot;;

const unsub = onSnapshot(doc(db, &quot;cities&quot;, &quot;SF&quot;), (doc) =&gt; {
    console.log(&quot;Current data: &quot;, doc.data());
});<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-web/blob/ceaa80767e5b244fcb2f42dd4fe8889c9818d81a/snippets/firestore-next/test-firestore/listen_document.js#L7-L11" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-web/snippets/firestore-next/test-firestore/listen_document.js#listen_document_modular" >listen_document.js</a></div></pre>
  </section>



  <section>
    <h5 id="swift" data-text="Swift">Swift</h5>
<pre class="prettyprint lang-swift" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-ios/firestore/swift/firestore-smoketest/ViewController.swift" data-region-tag="listen_document">db.collection(&quot;cities&quot;).document(&quot;SF&quot;)
    .addSnapshotListener { documentSnapshot, error in
      guard let document = documentSnapshot else {
        print(&quot;Error fetching document: \(error!)&quot;)
        return
      }
      guard let data = document.data() else {
        print(&quot;Document data was empty.&quot;)
        return
      }
      print(&quot;Current data: \(data)&quot;)
    }<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-ios/blob/1546b663e3efca334820bf4afb56495144a1020a/firestore/swift/firestore-smoketest/ViewController.swift#L794-L805" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-ios/firestore/swift/firestore-smoketest/ViewController.swift#listen_document" >ViewController.swift</a></div></pre>
  </section>
  <section>
  <h5 id="objective-c" data-text="Objective-C">Objective-C</h5>
<pre class="prettyprint lang-objc" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-ios/firestore/objc/firestore-smoketest-objc/ViewController.m" data-region-tag="listen_document">[[[self.db collectionWithPath:@&quot;cities&quot;] documentWithPath:@&quot;SF&quot;]
    addSnapshotListener:^(FIRDocumentSnapshot *snapshot, NSError *error) {
      if (snapshot == nil) {
        NSLog(@&quot;Error fetching document: %@&quot;, error);
        return;
      }
      NSLog(@&quot;Current data: %@&quot;, snapshot.data);
    }];<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-ios/blob/1546b663e3efca334820bf4afb56495144a1020a/firestore/objc/firestore-smoketest-objc/ViewController.m#L693-L700" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-ios/firestore/objc/firestore-smoketest-objc/ViewController.m#listen_document" >ViewController.m</a></div></pre>
  </section>
  <section>
    <h3 id="java" data-text="Java"><span class="two-line-tab"><span tab-label="Android">Java</span></span></h3>
<pre class="prettyprint lang-java" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java" data-region-tag="listen_document">final DocumentReference docRef = db.collection(&quot;cities&quot;).document(&quot;SF&quot;);
docRef.addSnapshotListener(new EventListener&lt;DocumentSnapshot&gt;() {
    @Override
    public void onEvent(@Nullable DocumentSnapshot snapshot,
                        @Nullable FirebaseFirestoreException e) {
        if (e != null) {
            Log.w(TAG, &quot;Listen failed.&quot;, e);
            return;
        }

        if (snapshot != null &amp;&amp; snapshot.exists()) {
            Log.d(TAG, &quot;Current data: &quot; + snapshot.getData());
        } else {
            Log.d(TAG, &quot;Current data: null&quot;);
        }
    }
});<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-android/blob/c8958277f003f136562657e2eff3080937cc6926/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java#L674-L690" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java#listen_document" >DocSnippets.java</a></div></pre>
  </section>
  <section>
    <h3 id="kotlin+ktx" data-text="Kotlin+KTX"><span class="two-line-tab"><span tab-label="Android">Kotlin+KTX</span></span></h3>
<pre class="prettyprint lang-kotlin" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt" data-region-tag="listen_document">val docRef = db.collection(&quot;cities&quot;).document(&quot;SF&quot;)
docRef.addSnapshotListener { snapshot, e -&gt;
    if (e != null) {
        Log.w(TAG, &quot;Listen failed.&quot;, e)
        return@addSnapshotListener
    }

    if (snapshot != null &amp;&amp; snapshot.exists()) {
        Log.d(TAG, &quot;Current data: ${snapshot.data}&quot;)
    } else {
        Log.d(TAG, &quot;Current data: null&quot;)
    }
}<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-android/blob/c8958277f003f136562657e2eff3080937cc6926/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt#L509-L521" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt#listen_document" >DocSnippets.kt</a></div></pre>
  </section>
<section>
 <h5 id="java_1" data-text="Java">Java</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-java"
       
       
       track-metadata-position="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java/master/firestore_listen_document"
       
       data-code-snippet="true"
       
       
       
       data-github-path="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_document"
       
       
        dir="ltr"><code translate="no" dir="ltr">DocumentReference docRef = db.collection(&quot;cities&quot;).document(&quot;SF&quot;);
docRef.addSnapshotListener(new EventListener&lt;DocumentSnapshot&gt;() {
  @Override
  public void onEvent(@Nullable DocumentSnapshot snapshot,
                      @Nullable FirestoreException e) {
    if (e != null) {
      System.err.println(&quot;Listen failed: &quot; + e);
      return;
    }

    if (snapshot != null &amp;&amp; snapshot.exists()) {
      System.out.println(&quot;Current data: &quot; + snapshot.getData());
    } else {
      System.out.print(&quot;Current data: null&quot;);
    }
  }
});<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/googleapis/java-firestore/blob/0f13fd0c0db0208b9f68a57dabcb1e998b4a7b9b/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java#L58-L79" class="gc-analytics-event" data-category="github_link" data-label="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java#firestore_listen_document" data-code-snippet="true" data-git-revision="master" data-github-path="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_document">ListenDataSnippets.java</a></div></code></pre>
</div>




















  </section>

<section>
    <h5 id="python" data-text="Python">Python</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-py"
       
       
       track-metadata-position="GoogleCloudPlatform/python-docs-samples/firestore/cloud-client/snippets.py/master/firestore_listen_document"
       
       data-code-snippet="true"
       
       
       
       data-github-path="GoogleCloudPlatform/python-docs-samples/firestore/cloud-client/snippets.py"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_document"
       
       
        dir="ltr"><code translate="no" dir="ltr">
# Create an Event for notifying main thread.
callback_done = threading.Event()

# Create a callback on_snapshot function to capture changes
def on_snapshot(doc_snapshot, changes, read_time):
    for doc in doc_snapshot:
        print(f&#39;Received document snapshot: {doc.id}&#39;)
    callback_done.set()

doc_ref = db.collection(u&#39;cities&#39;).document(u&#39;SF&#39;)

# Watch the document
doc_watch = doc_ref.on_snapshot(on_snapshot)<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/GoogleCloudPlatform/python-docs-samples/blob/264bea692f8fc68197d2bd911c1994062c64acde/firestore/cloud-client/snippets.py#L686-L699" class="gc-analytics-event" data-category="github_link" data-label="GoogleCloudPlatform/python-docs-samples/firestore/cloud-client/snippets.py#firestore_listen_document" data-code-snippet="true" data-git-revision="master" data-github-path="GoogleCloudPlatform/python-docs-samples/firestore/cloud-client/snippets.py" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_document">snippets.py</a></div></code></pre>
</div>




















</section>

<section>
  <h5 id="c++" data-text="C++">C++</h5>
<pre class="prettyprint lang-cpp" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-cpp/firestore/android/FirestoreSnippetsCpp/app/src/main/cpp/snippets.cpp" data-region-tag="listen_document">DocumentReference doc_ref = db-&gt;Collection(&quot;cities&quot;).Document(&quot;SF&quot;);
doc_ref.AddSnapshotListener(
    [](const DocumentSnapshot&amp; snapshot, Error error) {
      if (error == Error::kErrorOk) {
        if (snapshot.exists()) {
          std::cout &lt;&lt; &quot;Current data: &quot; &lt;&lt; snapshot &lt;&lt; &#39;\n&#39;;
        } else {
          std::cout &lt;&lt; &quot;Current data: null\n&quot;;
        }
      } else {
        std::cout &lt;&lt; &quot;Listen failed: &quot; &lt;&lt; error &lt;&lt; &#39;\n&#39;;
      }
    });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-cpp/blob/7c0ddc1923c85b025877a9186e46eac74c2a9ba5/firestore/android/FirestoreSnippetsCpp/app/src/main/cpp/snippets.cpp#L613-L625" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-cpp/firestore/android/FirestoreSnippetsCpp/app/src/main/cpp/snippets.cpp#listen_document" >snippets.cpp</a></div></pre>
</section>

<section>
    <h5 id="node.js" data-text="Node.js">Node.js</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-js"
       
       
       track-metadata-position="firebase/snippets-node/firestore/main/index.js/master/firestore_listen_document"
       
       data-code-snippet="true"
       
       
       
       data-github-path="firebase/snippets-node/firestore/main/index.js"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_document"
       
       
        dir="ltr"><code translate="no" dir="ltr">const doc = db.collection(&#39;cities&#39;).doc(&#39;SF&#39;);

const observer = doc.onSnapshot(docSnapshot =&gt; {
  console.log(`Received doc snapshot: ${docSnapshot}`);
  // ...
}, err =&gt; {
  console.log(`Encountered error: ${err}`);
});<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-node/blob/dcf53908826bb08cc6d1c780795a79dea8a65ce8/firestore/main/index.js#L828-L838" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-node/firestore/main/index.js#firestore_listen_document" data-code-snippet="true" data-git-revision="master" data-github-path="firebase/snippets-node/firestore/main/index.js" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_document">index.js</a></div></code></pre>
</div>




















</section>

<section>
    <h5 id="go" data-text="Go">Go</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-golang"
       
       
       track-metadata-position="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_document.go/master/firestore_listen_document"
       
       data-code-snippet="true"
       
       
       
       data-github-path="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_document.go"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_document"
       
       
        dir="ltr"><code translate="no" dir="ltr">import (
	&quot;context&quot;
	&quot;fmt&quot;
	&quot;io&quot;
	&quot;time&quot;

	&quot;cloud.google.com/go/firestore&quot;
	&quot;google.golang.org/grpc/codes&quot;
	&quot;google.golang.org/grpc/status&quot;
)

// listenDocument listens to a single document.
func listenDocument(ctx context.Context, w io.Writer, projectID, collection string) error {
	// projectID := &quot;project-id&quot;
	// Сontext with timeout stops listening to changes.
	ctx, cancel := context.WithTimeout(ctx, 30*time.Second)
	defer cancel()

	client, err := firestore.NewClient(ctx, projectID)
	if err != nil {
		return fmt.Errorf(&quot;firestore.NewClient: %v&quot;, err)
	}
	defer client.Close()

	it := client.Collection(collection).Doc(&quot;SF&quot;).Snapshots(ctx)
	for {
		snap, err := it.Next()
		// DeadlineExceeded will be returned when ctx is cancelled.
		if status.Code(err) == codes.DeadlineExceeded {
			return nil
		}
		if err != nil {
			return fmt.Errorf(&quot;Snapshots.Next: %v&quot;, err)
		}
		if !snap.Exists() {
			fmt.Fprintf(w, &quot;Document no longer exists\n&quot;)
			return nil
		}
		fmt.Fprintf(w, &quot;Received document snapshot: %v\n&quot;, snap.Data())
	}
}
<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/GoogleCloudPlatform/golang-samples/blob/600ca0cc2054997ba3f5c41f52b202e9478604b9/firestore/firestore_snippets/listen_document.go#L18-L61" class="gc-analytics-event" data-category="github_link" data-label="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_document.go#firestore_listen_document" data-code-snippet="true" data-git-revision="master" data-github-path="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_document.go" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_document">listen_document.go</a></div></code></pre>
</div>



















  
</section>

<section>
    <h5 id="php" data-text="PHP">PHP</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not supported in the PHP client library
</pre>
</section>

<section>
    <h5 id="unity" data-text="Unity">Unity</h5>
<pre class="prettyprint lang-unity" translate="no" dir="ltr" data-code-snippet="true" data-gerrit-path="Assets/Products/CloudFirestore/CloudFirestore_Listen.cs" data-gerrit-repo="devrel/samples/firebase/snippets-unity" data-region-tag="fs_listen_document">DocumentReference docRef = db.Collection(&quot;cities&quot;).Document(&quot;SF&quot;);
docRef.Listen(snapshot =&gt; {
    Debug.Log(&quot;Callback received document snapshot.&quot;);
    Debug.Log(String.Format(&quot;Document data for {0} document:&quot;, snapshot.Id));
    Dictionary&lt;string, object&gt; city = snapshot.ToDictionary();
    foreach (KeyValuePair&lt;string, object&gt; pair in city) {
        Debug.Log(String.Format(&quot;{0}: {1}&quot;, pair.Key, pair.Value));
    }
});</pre>
</section>

<section>
    <h5 id="c" data-text="C#">C#</h5>
<pre class="prettyprint lang-csh" translate="no" dir="ltr" data-code-snippet="true" data-github-path="GoogleCloudPlatform/dotnet-docs-samples/firestore/api/ListenData/Program.cs" data-region-tag="fs_listen_document">DocumentReference docRef = db.Collection(&quot;cities&quot;).Document(&quot;SF&quot;);
FirestoreChangeListener listener = docRef.Listen(snapshot =&gt;
{
    Console.WriteLine(&quot;Callback received document snapshot.&quot;);
    Console.WriteLine(&quot;Document exists? {0}&quot;, snapshot.Exists);
    if (snapshot.Exists)
    {
        Console.WriteLine(&quot;Document data for {0} document:&quot;, snapshot.Id);
        Dictionary&lt;string, object&gt; city = snapshot.ToDictionary();
        foreach (KeyValuePair&lt;string, object&gt; pair in city)
        {
            Console.WriteLine(&quot;{0}: {1}&quot;, pair.Key, pair.Value);
        }
    }
});<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/GoogleCloudPlatform/dotnet-docs-samples/blob/e8e2a130b9a75ccdd5dbd3fa34bf80c731a3698b/firestore/api/ListenData/Program.cs#L40-L54" class="gc-analytics-event" data-category="github_link" data-label="GoogleCloudPlatform/dotnet-docs-samples/firestore/api/ListenData/Program.cs#fs_listen_document" >Program.cs</a></div></pre>
</section>

<section>
    <h5 id="ruby" data-text="Ruby">Ruby</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-rb"
       
       
       track-metadata-position="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb/master/firestore_listen_document"
       
       data-code-snippet="true"
       
       
       
       data-github-path="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_document"
       
       
        dir="ltr"><code translate="no" dir="ltr">doc_ref = firestore.col(collection_path).doc document_path
snapshots = []

# Watch the document.
listener = doc_ref.listen do |snapshot|
  puts &quot;Received document snapshot: #{snapshot.document_id}&quot;
  snapshots &lt;&lt; snapshot
end<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/googleapis/google-cloud-ruby/blob/654a5a481fa376d8acafb3908fdc9f9d130613d5/google-cloud-firestore/samples/query_watch.rb#L24-L33" class="gc-analytics-event" data-category="github_link" data-label="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb#firestore_listen_document" data-code-snippet="true" data-git-revision="master" data-github-path="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_document">query_watch.rb</a></div></code></pre>
</div>




















</section>

</div>

<h3 id="events-local-changes" data-text="Events for local changes">Events for local changes</h3>

<p>Local writes in your app will invoke snapshot listeners immediately.
This is because of an important feature called &quot;latency compensation.&quot;
When you perform a write, your listeners will be notified with the new
data <em>before</em> the data is sent to the backend.</p>

<p>Retrieved documents have a <code translate="no" dir="ltr">metadata.hasPendingWrites</code> property that indicates
whether the document has local changes that haven&#39;t been written to the backend
yet. You can use this property to determine the source of events received by
your snapshot listener:</p>

<div class="ds-selector-tabs" data-ds-scope="lang">








  <section>
    <h3 id="web-v8_1" data-text="Web v8"><span class="two-line-tab"><span tab-label="">Web v8</span></span></h3>
<pre class="prettyprint lang-js" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-web/firestore/test.firestore.js" data-region-tag="listen_document_local">db.collection(&quot;cities&quot;).doc(&quot;SF&quot;)
    .onSnapshot((doc) =&gt; {
        var source = doc.metadata.hasPendingWrites ? &quot;Local&quot; : &quot;Server&quot;;
        console.log(source, &quot; data: &quot;, doc.data());
    });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-web/blob/ceaa80767e5b244fcb2f42dd4fe8889c9818d81a/firestore/test.firestore.js#L638-L642" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-web/firestore/test.firestore.js#listen_document_local" >test.firestore.js</a></div></pre>
  </section>
  <section>
    <h3 id="web-v9_1" data-text="Web v9"><span class="two-line-tab"><span tab-label="(Beta)">Web v9</span></span></h3>
    <aside class="note" style="padding-top:8px; padding-bottom:8px;">
    <a href="//firebase.google.com/docs/web/learn-more#modular-version">Learn more</a> about the tree-shakeable Web v9 modular SDK, currently in Beta.</aside>
<pre class="prettyprint lang-js" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-web/snippets/firestore-next/test-firestore/listen_document_local.js" data-region-tag="listen_document_local_modular">import { doc, onSnapshot } from &quot;firebase/firestore&quot;;

const unsub = onSnapshot(doc(db, &quot;cities&quot;, &quot;SF&quot;), (doc) =&gt; {
  const source = doc.metadata.hasPendingWrites ? &quot;Local&quot; : &quot;Server&quot;;
  console.log(source, &quot; data: &quot;, doc.data());
});<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-web/blob/ceaa80767e5b244fcb2f42dd4fe8889c9818d81a/snippets/firestore-next/test-firestore/listen_document_local.js#L7-L12" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-web/snippets/firestore-next/test-firestore/listen_document_local.js#listen_document_local_modular" >listen_document_local.js</a></div></pre>
  </section>



  <section>
    <h5 id="swift_1" data-text="Swift">Swift</h5>
<pre class="prettyprint lang-swift" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-ios/firestore/swift/firestore-smoketest/ViewController.swift" data-region-tag="listen_document_local">db.collection(&quot;cities&quot;).document(&quot;SF&quot;)
    .addSnapshotListener { documentSnapshot, error in
        guard let document = documentSnapshot else {
            print(&quot;Error fetching document: \(error!)&quot;)
            return
        }
        let source = document.metadata.hasPendingWrites ? &quot;Local&quot; : &quot;Server&quot;
        print(&quot;\(source) data: \(document.data() ?? [:])&quot;)
    }<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-ios/blob/1546b663e3efca334820bf4afb56495144a1020a/firestore/swift/firestore-smoketest/ViewController.swift#L811-L819" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-ios/firestore/swift/firestore-smoketest/ViewController.swift#listen_document_local" >ViewController.swift</a></div></pre>
  </section>
  <section>
  <h5 id="objective-c_1" data-text="Objective-C">Objective-C</h5>
<pre class="prettyprint lang-objc" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-ios/firestore/objc/firestore-smoketest-objc/ViewController.m" data-region-tag="listen_document_local">[[[self.db collectionWithPath:@&quot;cities&quot;] documentWithPath:@&quot;SF&quot;]
    addSnapshotListener:^(FIRDocumentSnapshot *snapshot, NSError *error) {
      if (snapshot == nil) {
        NSLog(@&quot;Error fetching document: %@&quot;, error);
        return;
      }
      NSString *source = snapshot.metadata.hasPendingWrites ? @&quot;Local&quot; : @&quot;Server&quot;;
      NSLog(@&quot;%@ data: %@&quot;, source, snapshot.data);
    }];<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-ios/blob/1546b663e3efca334820bf4afb56495144a1020a/firestore/objc/firestore-smoketest-objc/ViewController.m#L706-L714" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-ios/firestore/objc/firestore-smoketest-objc/ViewController.m#listen_document_local" >ViewController.m</a></div></pre>
  </section>
  <section>
    <h3 id="java_2" data-text="Java"><span class="two-line-tab"><span tab-label="Android">Java</span></span></h3>
<pre class="prettyprint lang-java" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java" data-region-tag="listen_document_local">final DocumentReference docRef = db.collection(&quot;cities&quot;).document(&quot;SF&quot;);
docRef.addSnapshotListener(new EventListener&lt;DocumentSnapshot&gt;() {
    @Override
    public void onEvent(@Nullable DocumentSnapshot snapshot,
                        @Nullable FirebaseFirestoreException e) {
        if (e != null) {
            Log.w(TAG, &quot;Listen failed.&quot;, e);
            return;
        }

        String source = snapshot != null &amp;&amp; snapshot.getMetadata().hasPendingWrites()
                ? &quot;Local&quot; : &quot;Server&quot;;

        if (snapshot != null &amp;&amp; snapshot.exists()) {
            Log.d(TAG, source + &quot; data: &quot; + snapshot.getData());
        } else {
            Log.d(TAG, source + &quot; data: null&quot;);
        }
    }
});<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-android/blob/c8958277f003f136562657e2eff3080937cc6926/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java#L696-L715" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java#listen_document_local" >DocSnippets.java</a></div></pre>
  </section>
  <section>
    <h3 id="kotlin+ktx_1" data-text="Kotlin+KTX"><span class="two-line-tab"><span tab-label="Android">Kotlin+KTX</span></span></h3>
<pre class="prettyprint lang-kotlin" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt" data-region-tag="listen_document_local">val docRef = db.collection(&quot;cities&quot;).document(&quot;SF&quot;)
docRef.addSnapshotListener { snapshot, e -&gt;
    if (e != null) {
        Log.w(TAG, &quot;Listen failed.&quot;, e)
        return@addSnapshotListener
    }

    val source = if (snapshot != null &amp;&amp; snapshot.metadata.hasPendingWrites())
        &quot;Local&quot;
    else
        &quot;Server&quot;

    if (snapshot != null &amp;&amp; snapshot.exists()) {
        Log.d(TAG, &quot;$source data: ${snapshot.data}&quot;)
    } else {
        Log.d(TAG, &quot;$source data: null&quot;)
    }
}<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-android/blob/c8958277f003f136562657e2eff3080937cc6926/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt#L527-L544" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt#listen_document_local" >DocSnippets.kt</a></div></pre>
  </section>

<section>
    <h5 id="java_3" data-text="Java">Java</h5>
<pre class="prettyprint" translate="no" dir="ltr">
# Not yet supported in the Java client library
</pre>
</section>

<section>
    <h5 id="python_1" data-text="Python">Python</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not yet supported in Python client library
</pre>
</section>

<section>
  <h5 id="c++_1" data-text="C++">C++</h5>
  <pre class="prettyprint lang-cpp" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-cpp/firestore/android/FirestoreSnippetsCpp/app/src/main/cpp/snippets.cpp" data-region-tag="listen_document_local">DocumentReference doc_ref = db-&gt;Collection(&quot;cities&quot;).Document(&quot;SF&quot;);
doc_ref.AddSnapshotListener([](const DocumentSnapshot&amp; snapshot,
                               Error error) {
  if (error == Error::kErrorOk) {
    const char* source =
        snapshot.metadata().has_pending_writes() ? &quot;Local&quot; : &quot;Server&quot;;
    if (snapshot.exists()) {
      std::cout &lt;&lt; source &lt;&lt; &quot; data: &quot; &lt;&lt; snapshot.Get(&quot;name&quot;).string_value()
                &lt;&lt; &#39;\n&#39;;
    } else {
      std::cout &lt;&lt; source &lt;&lt; &quot; data: null\n&quot;;
    }
  } else {
    std::cout &lt;&lt; &quot;Listen failed: &quot; &lt;&lt; error &lt;&lt; &#39;\n&#39;;
  }
});<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-cpp/blob/7c0ddc1923c85b025877a9186e46eac74c2a9ba5/firestore/android/FirestoreSnippetsCpp/app/src/main/cpp/snippets.cpp#L647-L662" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-cpp/firestore/android/FirestoreSnippetsCpp/app/src/main/cpp/snippets.cpp#listen_document_local" >snippets.cpp</a></div></pre>
</section>

<section>
    <h5 id="node.js_1" data-text="Node.js">Node.js</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not yet supported in the Node.js client library
</pre>
</section>

<section>
    <h5 id="go_1" data-text="Go">Go</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not yet supported in the Go client library
</pre>
</section>

<section>
    <h5 id="php_1" data-text="PHP">PHP</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not supported in the PHP client library
</pre>
</section>

<section>
    <h5 id="unity_1" data-text="Unity">Unity</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not yet supported in the Unity SDK
</pre>
</section>

<section>
    <h5 id="c_1" data-text="C#">C#</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not yet supported in the C# client library
</pre>
</section>

<section>
    <h5 id="ruby_1" data-text="Ruby">Ruby</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not yet supported in the Ruby client library
</pre>
</section>

</div>

<h3 id="events-metadata-changes" data-text="Events for metadata changes">Events for metadata changes</h3>

<p>When listening for changes to a document, collection, or query, you can pass
options to control the granularity of events that your listener will receive.</p>

<p>By default, listeners are not notified of changes that only affect metadata.
Consider what happens when your app writes a new document:</p>

<ol>
<li>A change event is immediately fired with the new data. The document
 has not yet been written to the backend so the &quot;pending writes&quot;
 flag is <code translate="no" dir="ltr">true</code>.</li>
<li>The document is written to the backend.</li>
<li>The backend notifies the client of the successful write. There is no
 change to the document data, but there is a metadata change because
 the &quot;pending writes&quot; flag is now <code translate="no" dir="ltr">false</code>.</li>
</ol>

<p>If you want to receive snapshot events when the document or query metadata
changes, pass a listen options object when attaching your listener:</p>

<div class="ds-selector-tabs" data-ds-scope="lang">








  <section>
    <h3 id="web-v8_2" data-text="Web v8"><span class="two-line-tab"><span tab-label="">Web v8</span></span></h3>
<pre class="prettyprint lang-js" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-web/firestore/test.firestore.js" data-region-tag="listen_with_metadata">db.collection(&quot;cities&quot;).doc(&quot;SF&quot;)
    .onSnapshot({
        // Listen for document metadata changes
        includeMetadataChanges: true
    }, (doc) =&gt; {
        // ...
    });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-web/blob/ceaa80767e5b244fcb2f42dd4fe8889c9818d81a/firestore/test.firestore.js#L654-L660" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-web/firestore/test.firestore.js#listen_with_metadata" >test.firestore.js</a></div></pre>
  </section>
  <section>
    <h3 id="web-v9_2" data-text="Web v9"><span class="two-line-tab"><span tab-label="(Beta)">Web v9</span></span></h3>
    <aside class="note" style="padding-top:8px; padding-bottom:8px;">
    <a href="//firebase.google.com/docs/web/learn-more#modular-version">Learn more</a> about the tree-shakeable Web v9 modular SDK, currently in Beta.</aside>
<pre class="prettyprint lang-js" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-web/snippets/firestore-next/test-firestore/listen_with_metadata.js" data-region-tag="listen_with_metadata_modular">import { doc, onSnapshot } from &quot;firebase/firestore&quot;;

const unsub = onSnapshot(
  doc(db, &quot;cities&quot;, &quot;SF&quot;), 
  { includeMetadataChanges: true }, 
  (doc) =&gt; {
    // ...
  });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-web/blob/ceaa80767e5b244fcb2f42dd4fe8889c9818d81a/snippets/firestore-next/test-firestore/listen_with_metadata.js#L7-L14" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-web/snippets/firestore-next/test-firestore/listen_with_metadata.js#listen_with_metadata_modular" >listen_with_metadata.js</a></div></pre>
  </section>



  <section>
    <h5 id="swift_2" data-text="Swift">Swift</h5>
<pre class="prettyprint lang-swift" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-ios/firestore/swift/firestore-smoketest/ViewController.swift" data-region-tag="listen_with_metadata">// Listen to document metadata.
db.collection(&quot;cities&quot;).document(&quot;SF&quot;)
    .addSnapshotListener(includeMetadataChanges: true) { documentSnapshot, error in
        // ...
    }<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-ios/blob/1546b663e3efca334820bf4afb56495144a1020a/firestore/swift/firestore-smoketest/ViewController.swift#L825-L829" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-ios/firestore/swift/firestore-smoketest/ViewController.swift#listen_with_metadata" >ViewController.swift</a></div></pre>
  </section>

  <section>
  <h5 id="objective-c_2" data-text="Objective-C">Objective-C</h5>
<pre class="prettyprint lang-objc" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-ios/firestore/objc/firestore-smoketest-objc/ViewController.m" data-region-tag="listen_with_metadata">// Listen for metadata changes.
[[[self.db collectionWithPath:@&quot;cities&quot;] documentWithPath:@&quot;SF&quot;]
    addSnapshotListenerWithIncludeMetadataChanges:YES
                                         listener:^(FIRDocumentSnapshot *snapshot, NSError *error) {
   // ...
}];<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-ios/blob/1546b663e3efca334820bf4afb56495144a1020a/firestore/objc/firestore-smoketest-objc/ViewController.m#L720-L725" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-ios/firestore/objc/firestore-smoketest-objc/ViewController.m#listen_with_metadata" >ViewController.m</a></div></pre>
  </section>

  <section>
    <h3 id="java_4" data-text="Java"><span class="two-line-tab"><span tab-label="Android">Java</span></span></h3>
<pre class="prettyprint lang-java" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java" data-region-tag="listen_with_metadata">// Listen for metadata changes to the document.
DocumentReference docRef = db.collection(&quot;cities&quot;).document(&quot;SF&quot;);
docRef.addSnapshotListener(MetadataChanges.INCLUDE, new EventListener&lt;DocumentSnapshot&gt;() {
    @Override
    public void onEvent(@Nullable DocumentSnapshot snapshot,
                        @Nullable FirebaseFirestoreException e) {
        // ...
    }
});<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-android/blob/c8958277f003f136562657e2eff3080937cc6926/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java#L721-L729" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java#listen_with_metadata" >DocSnippets.java</a></div></pre>
  </section>
  <section>
    <h3 id="kotlin+ktx_2" data-text="Kotlin+KTX"><span class="two-line-tab"><span tab-label="Android">Kotlin+KTX</span></span></h3>
<pre class="prettyprint lang-kotlin" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt" data-region-tag="listen_with_metadata">// Listen for metadata changes to the document.
val docRef = db.collection(&quot;cities&quot;).document(&quot;SF&quot;)
docRef.addSnapshotListener(MetadataChanges.INCLUDE) { snapshot, e -&gt;
    // ...
}<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-android/blob/c8958277f003f136562657e2eff3080937cc6926/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt#L550-L554" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt#listen_with_metadata" >DocSnippets.kt</a></div></pre>
  </section>

<section>
    <h5 id="java_5" data-text="Java">Java</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not yet supported in the Java client library
</pre>
</section>

<section>
    <h5 id="python_2" data-text="Python">Python</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not yet supported in Python client library
</pre>
</section>

<section>
  <h5 id="c++_2" data-text="C++">C++</h5>
<pre class="prettyprint lang-cpp" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-cpp/firestore/android/FirestoreSnippetsCpp/app/src/main/cpp/snippets.cpp" data-region-tag="listen_with_metadata">DocumentReference doc_ref = db-&gt;Collection(&quot;cities&quot;).Document(&quot;SF&quot;);
doc_ref.AddSnapshotListener(
    MetadataChanges::kInclude,
    [](const DocumentSnapshot&amp; snapshot, Error error) { /* ... */ });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-cpp/blob/7c0ddc1923c85b025877a9186e46eac74c2a9ba5/firestore/android/FirestoreSnippetsCpp/app/src/main/cpp/snippets.cpp#L690-L693" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-cpp/firestore/android/FirestoreSnippetsCpp/app/src/main/cpp/snippets.cpp#listen_with_metadata" >snippets.cpp</a></div></pre>
</section>

<section>
    <h5 id="node.js_2" data-text="Node.js">Node.js</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not yet supported the Node.js client library
</pre>
</section>

<section>
    <h5 id="go_2" data-text="Go">Go</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not yet supported in the Go client library
</pre>
</section>

<section>
    <h5 id="php_2" data-text="PHP">PHP</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not supported in the PHP client library
</pre>
</section>

<section>
    <h5 id="unity_2" data-text="Unity">Unity</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not yet supported in the Unity SDK
</pre>
</section>

<section>
    <h5 id="c_2" data-text="C#">C#</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not yet supported in the C# client library
</pre>
</section>

<section>
    <h5 id="ruby_2" data-text="Ruby">Ruby</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not yet supported in the Ruby client library
</pre>
</section>

</div>
<aside class="note"><strong>Note:</strong><span> If you just want to know when your write has completed, you can listen to
the completion callback rather than using <code translate="no" dir="ltr">hasPendingWrites</code>.  In JavaScript, use
the <code translate="no" dir="ltr">Promise</code> returned from your write operation by attaching a <code translate="no" dir="ltr">.then()</code>
callback. In Swift, pass a completion callback to your write function.</span></aside>
<h2 id="listen_to_multiple_documents_in_a_collection" data-text="Listen to multiple documents in a collection">Listen to multiple documents in a collection</h2>

<p>As with documents, you can use <code translate="no" dir="ltr">onSnapshot()</code> instead of <code translate="no" dir="ltr">get()</code> to listen to the
results of a query. This creates a query snapshot. For example, to listen to the
documents with state <code translate="no" dir="ltr">CA</code>:</p>

<div class="ds-selector-tabs" data-ds-scope="lang">








  <section>
    <h3 id="web-v8_3" data-text="Web v8"><span class="two-line-tab"><span tab-label="">Web v8</span></span></h3>
<pre class="prettyprint lang-js" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-web/firestore/test.firestore.js" data-region-tag="listen_multiple">db.collection(&quot;cities&quot;).where(&quot;state&quot;, &quot;==&quot;, &quot;CA&quot;)
    .onSnapshot((querySnapshot) =&gt; {
        var cities = [];
        querySnapshot.forEach((doc) =&gt; {
            cities.push(doc.data().name);
        });
        console.log(&quot;Current cities in CA: &quot;, cities.join(&quot;, &quot;));
    });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-web/blob/ceaa80767e5b244fcb2f42dd4fe8889c9818d81a/firestore/test.firestore.js#L703-L710" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-web/firestore/test.firestore.js#listen_multiple" >test.firestore.js</a></div></pre>
  </section>
  <section>
    <h3 id="web-v9_3" data-text="Web v9"><span class="two-line-tab"><span tab-label="(Beta)">Web v9</span></span></h3>
    <aside class="note" style="padding-top:8px; padding-bottom:8px;">
    <a href="//firebase.google.com/docs/web/learn-more#modular-version">Learn more</a> about the tree-shakeable Web v9 modular SDK, currently in Beta.</aside>
<pre class="prettyprint lang-js" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-web/snippets/firestore-next/test-firestore/listen_multiple.js" data-region-tag="listen_multiple_modular">import { collection, query, where, onSnapshot } from &quot;firebase/firestore&quot;;

const q = query(collection(db, &quot;cities&quot;), where(&quot;state&quot;, &quot;==&quot;, &quot;CA&quot;));
const unsubscribe = onSnapshot(q, (querySnapshot) =&gt; {
  const cities = [];
  querySnapshot.forEach((doc) =&gt; {
      cities.push(doc.data().name);
  });
  console.log(&quot;Current cities in CA: &quot;, cities.join(&quot;, &quot;));
});<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-web/blob/ceaa80767e5b244fcb2f42dd4fe8889c9818d81a/snippets/firestore-next/test-firestore/listen_multiple.js#L7-L16" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-web/snippets/firestore-next/test-firestore/listen_multiple.js#listen_multiple_modular" >listen_multiple.js</a></div></pre>
  </section>



  <section>
    <h5 id="swift_3" data-text="Swift">Swift</h5>
<pre class="prettyprint lang-swift" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-ios/firestore/swift/firestore-smoketest/ViewController.swift" data-region-tag="listen_multiple">db.collection(&quot;cities&quot;).whereField(&quot;state&quot;, isEqualTo: &quot;CA&quot;)
    .addSnapshotListener { querySnapshot, error in
        guard let documents = querySnapshot?.documents else {
            print(&quot;Error fetching documents: \(error!)&quot;)
            return
        }
        let cities = documents.map { $0[&quot;name&quot;]! }
        print(&quot;Current cities in CA: \(cities)&quot;)
    }<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-ios/blob/1546b663e3efca334820bf4afb56495144a1020a/firestore/swift/firestore-smoketest/ViewController.swift#L864-L872" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-ios/firestore/swift/firestore-smoketest/ViewController.swift#listen_multiple" >ViewController.swift</a></div></pre>
  </section>

  <section>
  <h5 id="objective-c_3" data-text="Objective-C">Objective-C</h5>
<pre class="prettyprint lang-objc" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-ios/firestore/objc/firestore-smoketest-objc/ViewController.m" data-region-tag="listen_multiple">[[[self.db collectionWithPath:@&quot;cities&quot;] queryWhereField:@&quot;state&quot; isEqualTo:@&quot;CA&quot;]
    addSnapshotListener:^(FIRQuerySnapshot *snapshot, NSError *error) {
      if (snapshot == nil) {
        NSLog(@&quot;Error fetching documents: %@&quot;, error);
        return;
      }
      NSMutableArray *cities = [NSMutableArray array];
      for (FIRDocumentSnapshot *document in snapshot.documents) {
        [cities addObject:document.data[@&quot;name&quot;]];
      }
      NSLog(@&quot;Current cities in CA: %@&quot;, cities);
    }];<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-ios/blob/1546b663e3efca334820bf4afb56495144a1020a/firestore/objc/firestore-smoketest-objc/ViewController.m#L761-L772" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-ios/firestore/objc/firestore-smoketest-objc/ViewController.m#listen_multiple" >ViewController.m</a></div></pre>
  </section>

  <section>
    <h3 id="java_6" data-text="Java"><span class="two-line-tab"><span tab-label="Android">Java</span></span></h3>
<pre class="prettyprint lang-java" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java" data-region-tag="listen_multiple">db.collection(&quot;cities&quot;)
        .whereEqualTo(&quot;state&quot;, &quot;CA&quot;)
        .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {
            @Override
            public void onEvent(@Nullable QuerySnapshot value,
                                @Nullable FirebaseFirestoreException e) {
                if (e != null) {
                    Log.w(TAG, &quot;Listen failed.&quot;, e);
                    return;
                }

                List&lt;String&gt; cities = new ArrayList&lt;&gt;();
                for (QueryDocumentSnapshot doc : value) {
                    if (doc.get(&quot;name&quot;) != null) {
                        cities.add(doc.getString(&quot;name&quot;));
                    }
                }
                Log.d(TAG, &quot;Current cites in CA: &quot; + cities);
            }
        });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-android/blob/c8958277f003f136562657e2eff3080937cc6926/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java#L774-L793" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java#listen_multiple" >DocSnippets.java</a></div></pre>
  </section>
  <section>
    <h3 id="kotlin+ktx_3" data-text="Kotlin+KTX"><span class="two-line-tab"><span tab-label="Android">Kotlin+KTX</span></span></h3>
<pre class="prettyprint lang-kotlin" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt" data-region-tag="listen_multiple">db.collection(&quot;cities&quot;)
        .whereEqualTo(&quot;state&quot;, &quot;CA&quot;)
        .addSnapshotListener { value, e -&gt;
            if (e != null) {
                Log.w(TAG, &quot;Listen failed.&quot;, e)
                return@addSnapshotListener
            }

            val cities = ArrayList&lt;String&gt;()
            for (doc in value!!) {
                doc.getString(&quot;name&quot;)?.let {
                    cities.add(it)
                }
            }
            Log.d(TAG, &quot;Current cites in CA: $cities&quot;)
        }<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-android/blob/c8958277f003f136562657e2eff3080937cc6926/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt#L591-L606" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt#listen_multiple" >DocSnippets.kt</a></div></pre>
  </section>

<section>
    <h5 id="java_7" data-text="Java">Java</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-java"
       
       
       track-metadata-position="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java/master/firestore_listen_query_snapshots"
       
       data-code-snippet="true"
       
       
       
       data-github-path="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_query_snapshots"
       
       
        dir="ltr"><code translate="no" dir="ltr">db.collection(&quot;cities&quot;)
    .whereEqualTo(&quot;state&quot;, &quot;CA&quot;)
    .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {
      @Override
      public void onEvent(@Nullable QuerySnapshot snapshots,
                          @Nullable FirestoreException e) {
        if (e != null) {
          System.err.println(&quot;Listen failed:&quot; + e);
          return;
        }

        List&lt;String&gt; cities = new ArrayList&lt;&gt;();
        for (DocumentSnapshot doc : snapshots) {
          if (doc.get(&quot;name&quot;) != null) {
            cities.add(doc.getString(&quot;name&quot;));
          }
        }
        System.out.println(&quot;Current cites in CA: &quot; + cities);
      }
    });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/googleapis/java-firestore/blob/0f13fd0c0db0208b9f68a57dabcb1e998b4a7b9b/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java#L94-L118" class="gc-analytics-event" data-category="github_link" data-label="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java#firestore_listen_query_snapshots" data-code-snippet="true" data-git-revision="master" data-github-path="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_query_snapshots">ListenDataSnippets.java</a></div></code></pre>
</div>




















  </section>

<section>
    <h5 id="python_3" data-text="Python">Python</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-py"
       
       
       track-metadata-position="GoogleCloudPlatform/python-docs-samples/firestore/cloud-client/snippets.py/master/firestore_listen_query_snapshots"
       
       data-code-snippet="true"
       
       
       
       data-github-path="GoogleCloudPlatform/python-docs-samples/firestore/cloud-client/snippets.py"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_query_snapshots"
       
       
        dir="ltr"><code translate="no" dir="ltr">
# Create an Event for notifying main thread.
callback_done = threading.Event()

# Create a callback on_snapshot function to capture changes
def on_snapshot(col_snapshot, changes, read_time):
    print(u&#39;Callback received query snapshot.&#39;)
    print(u&#39;Current cities in California:&#39;)
    for doc in col_snapshot:
        print(f&#39;{doc.id}&#39;)
    callback_done.set()

col_query = db.collection(u&#39;cities&#39;).where(u&#39;state&#39;, u&#39;==&#39;, u&#39;CA&#39;)

# Watch the collection query
query_watch = col_query.on_snapshot(on_snapshot)
<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/GoogleCloudPlatform/python-docs-samples/blob/264bea692f8fc68197d2bd911c1994062c64acde/firestore/cloud-client/snippets.py#L722-L738" class="gc-analytics-event" data-category="github_link" data-label="GoogleCloudPlatform/python-docs-samples/firestore/cloud-client/snippets.py#firestore_listen_query_snapshots" data-code-snippet="true" data-git-revision="master" data-github-path="GoogleCloudPlatform/python-docs-samples/firestore/cloud-client/snippets.py" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_query_snapshots">snippets.py</a></div></code></pre>
</div>




















</section>

<section>
  <h5 id="c++_3" data-text="C++">C++</h5>
<pre class="prettyprint lang-cpp" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-cpp/firestore/android/FirestoreSnippetsCpp/app/src/main/cpp/snippets.cpp" data-region-tag="listen_multiple">db-&gt;Collection(&quot;cities&quot;)
    .WhereEqualTo(&quot;state&quot;, FieldValue::String(&quot;CA&quot;))
    .AddSnapshotListener([](const QuerySnapshot&amp; snapshot, Error error) {
      if (error == Error::kErrorOk) {
        std::vector&lt;std::string&gt; cities;
        std::cout &lt;&lt; &quot;Current cities in CA: &quot; &lt;&lt; error &lt;&lt; &#39;\n&#39;;
        for (const DocumentSnapshot&amp; doc : snapshot.documents()) {
          cities.push_back(doc.Get(&quot;name&quot;).string_value());
          std::cout &lt;&lt; &quot;&quot; &lt;&lt; cities.back() &lt;&lt; &#39;\n&#39;;
        }
      } else {
        std::cout &lt;&lt; &quot;Listen failed: &quot; &lt;&lt; error &lt;&lt; &#39;\n&#39;;
      }
    });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-cpp/blob/7c0ddc1923c85b025877a9186e46eac74c2a9ba5/firestore/android/FirestoreSnippetsCpp/app/src/main/cpp/snippets.cpp#L709-L722" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-cpp/firestore/android/FirestoreSnippetsCpp/app/src/main/cpp/snippets.cpp#listen_multiple" >snippets.cpp</a></div></pre>
</section>

<section>
    <h5 id="node.js_3" data-text="Node.js">Node.js</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-js"
       
       
       track-metadata-position="firebase/snippets-node/firestore/main/index.js/master/firestore_listen_query_snapshots"
       
       data-code-snippet="true"
       
       
       
       data-github-path="firebase/snippets-node/firestore/main/index.js"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_query_snapshots"
       
       
        dir="ltr"><code translate="no" dir="ltr">const query = db.collection(&#39;cities&#39;).where(&#39;state&#39;, &#39;==&#39;, &#39;CA&#39;);

const observer = query.onSnapshot(querySnapshot =&gt; {
  console.log(`Received query snapshot of size ${querySnapshot.size}`);
  // ...
}, err =&gt; {
  console.log(`Encountered error: ${err}`);
});<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-node/blob/dcf53908826bb08cc6d1c780795a79dea8a65ce8/firestore/main/index.js#L785-L795" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-node/firestore/main/index.js#firestore_listen_query_snapshots" data-code-snippet="true" data-git-revision="master" data-github-path="firebase/snippets-node/firestore/main/index.js" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_query_snapshots">index.js</a></div></code></pre>
</div>




















</section>

<section>
    <h5 id="go_3" data-text="Go">Go</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-golang"
       
       
       track-metadata-position="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_multiple.go/master/firestore_listen_query_snapshots"
       
       data-code-snippet="true"
       
       
       
       data-github-path="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_multiple.go"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_query_snapshots"
       
       
        dir="ltr"><code translate="no" dir="ltr">import (
	&quot;context&quot;
	&quot;fmt&quot;
	&quot;io&quot;
	&quot;time&quot;

	&quot;cloud.google.com/go/firestore&quot;
	&quot;google.golang.org/api/iterator&quot;
	&quot;google.golang.org/grpc/codes&quot;
	&quot;google.golang.org/grpc/status&quot;
)

// listenMultiple listens to a query, returning the names of all cities
// for a state.
func listenMultiple(ctx context.Context, w io.Writer, projectID, collection string) error {
	// projectID := &quot;project-id&quot;
	ctx, cancel := context.WithTimeout(ctx, 30*time.Second)
	defer cancel()

	client, err := firestore.NewClient(ctx, projectID)
	if err != nil {
		return fmt.Errorf(&quot;firestore.NewClient: %v&quot;, err)
	}
	defer client.Close()

	it := client.Collection(collection).Where(&quot;state&quot;, &quot;==&quot;, &quot;CA&quot;).Snapshots(ctx)
	for {
		snap, err := it.Next()
		// DeadlineExceeded will be returned when ctx is cancelled.
		if status.Code(err) == codes.DeadlineExceeded {
			return nil
		}
		if err != nil {
			return fmt.Errorf(&quot;Snapshots.Next: %v&quot;, err)
		}
		if snap != nil {
			for {
				doc, err := snap.Documents.Next()
				if err == iterator.Done {
					break
				}
				if err != nil {
					return fmt.Errorf(&quot;Documents.Next: %v&quot;, err)
				}
				fmt.Fprintf(w, &quot;Current cities in California: %v\n&quot;, doc.Ref.ID)
			}
		}
	}
}
<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/GoogleCloudPlatform/golang-samples/blob/600ca0cc2054997ba3f5c41f52b202e9478604b9/firestore/firestore_snippets/listen_multiple.go#L18-L67" class="gc-analytics-event" data-category="github_link" data-label="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_multiple.go#firestore_listen_query_snapshots" data-code-snippet="true" data-git-revision="master" data-github-path="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_multiple.go" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_query_snapshots">listen_multiple.go</a></div></code></pre>
</div>




















  </section>

<section>
    <h5 id="php_3" data-text="PHP">PHP</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not supported in the PHP client library
</pre>
</section>

<section>
    <h5 id="unity_3" data-text="Unity">Unity</h5>
<pre class="prettyprint lang-unity" translate="no" dir="ltr" data-code-snippet="true" data-gerrit-path="Assets/Products/CloudFirestore/CloudFirestore_Listen.cs" data-gerrit-repo="devrel/samples/firebase/snippets-unity" data-region-tag="fs_listen_multiple">Query query = db.Collection(&quot;cities&quot;).WhereEqualTo(&quot;State&quot;, &quot;CA&quot;);

ListenerRegistration listener = query.Listen(snapshot =&gt; {
  Debug.Log(&quot;Callback received query snapshot.&quot;);
  Debug.Log(&quot;Current cities in California:&quot;);
  foreach (DocumentSnapshot documentSnapshot in snapshot.Documents) {
    Debug.Log(documentSnapshot.Id);
  }
});</pre>
</section>

<section>
    <h5 id="c_3" data-text="C#">C#</h5>
<pre class="prettyprint lang-csh" translate="no" dir="ltr" data-code-snippet="true" data-github-path="GoogleCloudPlatform/dotnet-docs-samples/firestore/api/ListenData/Program.cs" data-region-tag="fs_listen_multiple">CollectionReference citiesRef = db.Collection(&quot;cities&quot;);
Query query = db.Collection(&quot;cities&quot;).WhereEqualTo(&quot;State&quot;, &quot;CA&quot;);

FirestoreChangeListener listener = query.Listen(snapshot =&gt;
{
    Console.WriteLine(&quot;Callback received query snapshot.&quot;);
    Console.WriteLine(&quot;Current cities in California:&quot;);
    foreach (DocumentSnapshot documentSnapshot in snapshot.Documents)
    {
        Console.WriteLine(documentSnapshot.Id);
    }
});<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/GoogleCloudPlatform/dotnet-docs-samples/blob/e8e2a130b9a75ccdd5dbd3fa34bf80c731a3698b/firestore/api/ListenData/Program.cs#L81-L92" class="gc-analytics-event" data-category="github_link" data-label="GoogleCloudPlatform/dotnet-docs-samples/firestore/api/ListenData/Program.cs#fs_listen_multiple" >Program.cs</a></div></pre>
</section>

<section>
    <h5 id="ruby_3" data-text="Ruby">Ruby</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-rb"
       
       
       track-metadata-position="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb/master/firestore_listen_query_snapshots"
       
       data-code-snippet="true"
       
       
       
       data-github-path="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_query_snapshots"
       
       
        dir="ltr"><code translate="no" dir="ltr">query = firestore.col(collection_path).where :state, :==, &quot;CA&quot;
docs = []

# Watch the collection query.
listener = query.listen do |snapshot|
  puts &quot;Callback received query snapshot.&quot;
  puts &quot;Current cities in California:&quot;
  snapshot.docs.each do |doc|
    puts doc.document_id
    docs &lt;&lt; doc
  end
end<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/googleapis/google-cloud-ruby/blob/654a5a481fa376d8acafb3908fdc9f9d130613d5/google-cloud-firestore/samples/query_watch.rb#L154-L167" class="gc-analytics-event" data-category="github_link" data-label="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb#firestore_listen_query_snapshots" data-code-snippet="true" data-git-revision="master" data-github-path="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_query_snapshots">query_watch.rb</a></div></code></pre>
</div>




















</section>

</div>

<p>The snapshot handler will receive a new query snapshot every time the query
results change (that is, when a document is added, removed, or modified).</p>
<aside class="special"><strong>Important:</strong><span> As explained above under <a href="#events-local-changes">Events for local
changes</a>, you will receive events <em>immediately</em> for your
local writes. Your listener can use the <code translate="no" dir="ltr">metadata.hasPendingWrites</code> field on
each document to determine whether the document has local changes that have not
yet been written to the backend.</span></aside>
<h2 id="view_changes_between_snapshots" data-text="View changes between snapshots">View changes between snapshots</h2>

<p>It is often useful to see the actual changes to query results between query
snapshots, instead of simply using the entire query snapshot. For example, you
may want to maintain a cache as individual documents are added, removed, and
modified.</p>

<div class="ds-selector-tabs" data-ds-scope="lang">








  <section>
    <h3 id="web-v8_4" data-text="Web v8"><span class="two-line-tab"><span tab-label="">Web v8</span></span></h3>
<pre class="prettyprint lang-js" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-web/firestore/test.firestore.js" data-region-tag="listen_diffs">db.collection(&quot;cities&quot;).where(&quot;state&quot;, &quot;==&quot;, &quot;CA&quot;)
    .onSnapshot((snapshot) =&gt; {
        snapshot.docChanges().forEach((change) =&gt; {
            if (change.type === &quot;added&quot;) {
                console.log(&quot;New city: &quot;, change.doc.data());
            }
            if (change.type === &quot;modified&quot;) {
                console.log(&quot;Modified city: &quot;, change.doc.data());
            }
            if (change.type === &quot;removed&quot;) {
                console.log(&quot;Removed city: &quot;, change.doc.data());
            }
        });
    });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-web/blob/ceaa80767e5b244fcb2f42dd4fe8889c9818d81a/firestore/test.firestore.js#L721-L734" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-web/firestore/test.firestore.js#listen_diffs" >test.firestore.js</a></div></pre>
  </section>
  <section>
    <h3 id="web-v9_4" data-text="Web v9"><span class="two-line-tab"><span tab-label="(Beta)">Web v9</span></span></h3>
    <aside class="note" style="padding-top:8px; padding-bottom:8px;">
    <a href="//firebase.google.com/docs/web/learn-more#modular-version">Learn more</a> about the tree-shakeable Web v9 modular SDK, currently in Beta.</aside>
<pre class="prettyprint lang-js" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-web/snippets/firestore-next/test-firestore/listen_diffs.js" data-region-tag="listen_diffs_modular">import { collection, query, where, onSnapshot } from &quot;firebase/firestore&quot;;

const q = query(collection(db, &quot;cities&quot;), where(&quot;state&quot;, &quot;==&quot;, &quot;CA&quot;));
const unsubscribe = onSnapshot(q, (snapshot) =&gt; {
  snapshot.docChanges().forEach((change) =&gt; {
    if (change.type === &quot;added&quot;) {
        console.log(&quot;New city: &quot;, change.doc.data());
    }
    if (change.type === &quot;modified&quot;) {
        console.log(&quot;Modified city: &quot;, change.doc.data());
    }
    if (change.type === &quot;removed&quot;) {
        console.log(&quot;Removed city: &quot;, change.doc.data());
    }
  });
});<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-web/blob/ceaa80767e5b244fcb2f42dd4fe8889c9818d81a/snippets/firestore-next/test-firestore/listen_diffs.js#L7-L22" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-web/snippets/firestore-next/test-firestore/listen_diffs.js#listen_diffs_modular" >listen_diffs.js</a></div></pre>
  </section>



  <section>
    <h5 id="swift_4" data-text="Swift">Swift</h5>
<pre class="prettyprint lang-swift" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-ios/firestore/swift/firestore-smoketest/ViewController.swift" data-region-tag="listen_diffs">db.collection(&quot;cities&quot;).whereField(&quot;state&quot;, isEqualTo: &quot;CA&quot;)
    .addSnapshotListener { querySnapshot, error in
        guard let snapshot = querySnapshot else {
            print(&quot;Error fetching snapshots: \(error!)&quot;)
            return
        }
        snapshot.documentChanges.forEach { diff in
            if (diff.type == .added) {
                print(&quot;New city: \(diff.document.data())&quot;)
            }
            if (diff.type == .modified) {
                print(&quot;Modified city: \(diff.document.data())&quot;)
            }
            if (diff.type == .removed) {
                print(&quot;Removed city: \(diff.document.data())&quot;)
            }
        }
    }<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-ios/blob/1546b663e3efca334820bf4afb56495144a1020a/firestore/swift/firestore-smoketest/ViewController.swift#L878-L895" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-ios/firestore/swift/firestore-smoketest/ViewController.swift#listen_diffs" >ViewController.swift</a></div></pre>
  </section>

  <section>
  <h5 id="objective-c_4" data-text="Objective-C">Objective-C</h5>
<pre class="prettyprint lang-objc" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-ios/firestore/objc/firestore-smoketest-objc/ViewController.m" data-region-tag="listen_diffs">[[[self.db collectionWithPath:@&quot;cities&quot;] queryWhereField:@&quot;state&quot; isEqualTo:@&quot;CA&quot;]
    addSnapshotListener:^(FIRQuerySnapshot *snapshot, NSError *error) {
      if (snapshot == nil) {
        NSLog(@&quot;Error fetching documents: %@&quot;, error);
        return;
      }
      for (FIRDocumentChange *diff in snapshot.documentChanges) {
        if (diff.type == FIRDocumentChangeTypeAdded) {
          NSLog(@&quot;New city: %@&quot;, diff.document.data);
        }
        if (diff.type == FIRDocumentChangeTypeModified) {
          NSLog(@&quot;Modified city: %@&quot;, diff.document.data);
        }
        if (diff.type == FIRDocumentChangeTypeRemoved) {
          NSLog(@&quot;Removed city: %@&quot;, diff.document.data);
        }
      }
    }];<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-ios/blob/1546b663e3efca334820bf4afb56495144a1020a/firestore/objc/firestore-smoketest-objc/ViewController.m#L778-L795" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-ios/firestore/objc/firestore-smoketest-objc/ViewController.m#listen_diffs" >ViewController.m</a></div></pre>
  </section>

  <section>
    <h3 id="java_8" data-text="Java"><span class="two-line-tab"><span tab-label="Android">Java</span></span></h3>
<pre class="prettyprint lang-java" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java" data-region-tag="listen_diffs">db.collection(&quot;cities&quot;)
        .whereEqualTo(&quot;state&quot;, &quot;CA&quot;)
        .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {
            @Override
            public void onEvent(@Nullable QuerySnapshot snapshots,
                                @Nullable FirebaseFirestoreException e) {
                if (e != null) {
                    Log.w(TAG, &quot;listen:error&quot;, e);
                    return;
                }

                for (DocumentChange dc : snapshots.getDocumentChanges()) {
                    switch (dc.getType()) {
                        case ADDED:
                            Log.d(TAG, &quot;New city: &quot; + dc.getDocument().getData());
                            break;
                        case MODIFIED:
                            Log.d(TAG, &quot;Modified city: &quot; + dc.getDocument().getData());
                            break;
                        case REMOVED:
                            Log.d(TAG, &quot;Removed city: &quot; + dc.getDocument().getData());
                            break;
                    }
                }

            }
        });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-android/blob/c8958277f003f136562657e2eff3080937cc6926/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java#L799-L825" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java#listen_diffs" >DocSnippets.java</a></div></pre>
  </section>
  <section>
    <h3 id="kotlin+ktx_4" data-text="Kotlin+KTX"><span class="two-line-tab"><span tab-label="Android">Kotlin+KTX</span></span></h3>
<pre class="prettyprint lang-kotlin" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt" data-region-tag="listen_diffs">db.collection(&quot;cities&quot;)
        .whereEqualTo(&quot;state&quot;, &quot;CA&quot;)
        .addSnapshotListener { snapshots, e -&gt;
            if (e != null) {
                Log.w(TAG, &quot;listen:error&quot;, e)
                return@addSnapshotListener
            }

            for (dc in snapshots!!.documentChanges) {
                when (dc.type) {
                    DocumentChange.Type.ADDED -&gt; Log.d(TAG, &quot;New city: ${dc.document.data}&quot;)
                    DocumentChange.Type.MODIFIED -&gt; Log.d(TAG, &quot;Modified city: ${dc.document.data}&quot;)
                    DocumentChange.Type.REMOVED -&gt; Log.d(TAG, &quot;Removed city: ${dc.document.data}&quot;)
                }
            }
        }<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-android/blob/c8958277f003f136562657e2eff3080937cc6926/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt#L612-L627" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt#listen_diffs" >DocSnippets.kt</a></div></pre>
  </section>

<section>
    <h5 id="java_9" data-text="Java">Java</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-java"
       
       
       track-metadata-position="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java/master/firestore_listen_query_changes"
       
       data-code-snippet="true"
       
       
       
       data-github-path="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_query_changes"
       
       
        dir="ltr"><code translate="no" dir="ltr">db.collection(&quot;cities&quot;)
    .whereEqualTo(&quot;state&quot;, &quot;CA&quot;)
    .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {
      @Override
      public void onEvent(@Nullable QuerySnapshot snapshots,
                          @Nullable FirestoreException e) {
        if (e != null) {
          System.err.println(&quot;Listen failed: &quot; + e);
          return;
        }

        for (DocumentChange dc : snapshots.getDocumentChanges()) {
          switch (dc.getType()) {
            case ADDED:
              System.out.println(&quot;New city: &quot; + dc.getDocument().getData());
              break;
            case MODIFIED:
              System.out.println(&quot;Modified city: &quot; + dc.getDocument().getData());
              break;
            case REMOVED:
              System.out.println(&quot;Removed city: &quot; + dc.getDocument().getData());
              break;
            default:
              break;
          }
        }
      }
    });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/googleapis/java-firestore/blob/0f13fd0c0db0208b9f68a57dabcb1e998b4a7b9b/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java#L133-L165" class="gc-analytics-event" data-category="github_link" data-label="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java#firestore_listen_query_changes" data-code-snippet="true" data-git-revision="master" data-github-path="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_query_changes">ListenDataSnippets.java</a></div></code></pre>
</div>



















  
</section>

<section>
  <h5 id="c++_4" data-text="C++">C++</h5>
<pre class="prettyprint lang-cpp" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-cpp/firestore/android/FirestoreSnippetsCpp/app/src/main/cpp/snippets.cpp" data-region-tag="listen_diffs">db-&gt;Collection(&quot;cities&quot;)
    .WhereEqualTo(&quot;state&quot;, FieldValue::String(&quot;CA&quot;))
    .AddSnapshotListener([](const QuerySnapshot&amp; snapshot, Error error) {
      if (error == Error::kErrorOk) {
        for (const DocumentChange&amp; dc : snapshot.DocumentChanges()) {
          switch (dc.type()) {
            case DocumentChange::Type::kAdded:
              std::cout &lt;&lt; &quot;New city: &quot;
                        &lt;&lt; dc.document().Get(&quot;name&quot;).string_value() &lt;&lt; &#39;\n&#39;;
              break;
            case DocumentChange::Type::kModified:
              std::cout &lt;&lt; &quot;Modified city: &quot;
                        &lt;&lt; dc.document().Get(&quot;name&quot;).string_value() &lt;&lt; &#39;\n&#39;;
              break;
            case DocumentChange::Type::kRemoved:
              std::cout &lt;&lt; &quot;Removed city: &quot;
                        &lt;&lt; dc.document().Get(&quot;name&quot;).string_value() &lt;&lt; &#39;\n&#39;;
              break;
          }
        }
      } else {
        std::cout &lt;&lt; &quot;Listen failed: &quot; &lt;&lt; error &lt;&lt; &#39;\n&#39;;
      }
    });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-cpp/blob/7c0ddc1923c85b025877a9186e46eac74c2a9ba5/firestore/android/FirestoreSnippetsCpp/app/src/main/cpp/snippets.cpp#L741-L764" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-cpp/firestore/android/FirestoreSnippetsCpp/app/src/main/cpp/snippets.cpp#listen_diffs" >snippets.cpp</a></div></pre>
</section>

<section>
    <h5 id="python_4" data-text="Python">Python</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-py"
       
       
       track-metadata-position="GoogleCloudPlatform/python-docs-samples/firestore/cloud-client/snippets.py/master/firestore_listen_query_changes"
       
       data-code-snippet="true"
       
       
       
       data-github-path="GoogleCloudPlatform/python-docs-samples/firestore/cloud-client/snippets.py"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_query_changes"
       
       
        dir="ltr"><code translate="no" dir="ltr">
# Create an Event for notifying main thread.
delete_done = threading.Event()

# Create a callback on_snapshot function to capture changes
def on_snapshot(col_snapshot, changes, read_time):
    print(u&#39;Callback received query snapshot.&#39;)
    print(u&#39;Current cities in California: &#39;)
    for change in changes:
        if change.type.name == &#39;ADDED&#39;:
            print(f&#39;New city: {change.document.id}&#39;)
        elif change.type.name == &#39;MODIFIED&#39;:
            print(f&#39;Modified city: {change.document.id}&#39;)
        elif change.type.name == &#39;REMOVED&#39;:
            print(f&#39;Removed city: {change.document.id}&#39;)
            delete_done.set()

col_query = db.collection(u&#39;cities&#39;).where(u&#39;state&#39;, u&#39;==&#39;, u&#39;CA&#39;)

# Watch the collection query
query_watch = col_query.on_snapshot(on_snapshot)
<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/GoogleCloudPlatform/python-docs-samples/blob/264bea692f8fc68197d2bd911c1994062c64acde/firestore/cloud-client/snippets.py#L757-L778" class="gc-analytics-event" data-category="github_link" data-label="GoogleCloudPlatform/python-docs-samples/firestore/cloud-client/snippets.py#firestore_listen_query_changes" data-code-snippet="true" data-git-revision="master" data-github-path="GoogleCloudPlatform/python-docs-samples/firestore/cloud-client/snippets.py" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_query_changes">snippets.py</a></div></code></pre>
</div>




















</section>

<section>
    <h5 id="node.js_4" data-text="Node.js">Node.js</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-js"
       
       
       track-metadata-position="firebase/snippets-node/firestore/main/index.js/master/firestore_listen_query_changes"
       
       data-code-snippet="true"
       
       
       
       data-github-path="firebase/snippets-node/firestore/main/index.js"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_query_changes"
       
       
        dir="ltr"><code translate="no" dir="ltr">const observer = db.collection(&#39;cities&#39;).where(&#39;state&#39;, &#39;==&#39;, &#39;CA&#39;)
  .onSnapshot(querySnapshot =&gt; {
    querySnapshot.docChanges().forEach(change =&gt; {
      if (change.type === &#39;added&#39;) {
        console.log(&#39;New city: &#39;, change.doc.data());
      }
      if (change.type === &#39;modified&#39;) {
        console.log(&#39;Modified city: &#39;, change.doc.data());
      }
      if (change.type === &#39;removed&#39;) {
        console.log(&#39;Removed city: &#39;, change.doc.data());
      }
    });
  });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-node/blob/dcf53908826bb08cc6d1c780795a79dea8a65ce8/firestore/main/index.js#L803-L820" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-node/firestore/main/index.js#firestore_listen_query_changes" data-code-snippet="true" data-git-revision="master" data-github-path="firebase/snippets-node/firestore/main/index.js" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_query_changes">index.js</a></div></code></pre>
</div>




















</section>

<section>
    <h5 id="go_4" data-text="Go">Go</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-golang"
       
       
       track-metadata-position="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_changes.go/master/firestore_listen_query_changes"
       
       data-code-snippet="true"
       
       
       
       data-github-path="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_changes.go"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_query_changes"
       
       
        dir="ltr"><code translate="no" dir="ltr">import (
	&quot;context&quot;
	&quot;fmt&quot;
	&quot;io&quot;
	&quot;time&quot;

	&quot;cloud.google.com/go/firestore&quot;
	&quot;google.golang.org/grpc/codes&quot;
	&quot;google.golang.org/grpc/status&quot;
)

// listenChanges listens to a query, returning the list of document changes.
func listenChanges(ctx context.Context, w io.Writer, projectID, collection string) error {
	// projectID := &quot;project-id&quot;
	ctx, cancel := context.WithTimeout(ctx, 30*time.Second)
	defer cancel()

	client, err := firestore.NewClient(ctx, projectID)
	if err != nil {
		return fmt.Errorf(&quot;firestore.NewClient: %v&quot;, err)
	}
	defer client.Close()

	it := client.Collection(collection).Where(&quot;state&quot;, &quot;==&quot;, &quot;CA&quot;).Snapshots(ctx)
	for {
		snap, err := it.Next()
		// DeadlineExceeded will be returned when ctx is cancelled.
		if status.Code(err) == codes.DeadlineExceeded {
			return nil
		}
		if err != nil {
			return fmt.Errorf(&quot;Snapshots.Next: %v&quot;, err)
		}
		if snap != nil {
			for _, change := range snap.Changes {
				switch change.Kind {
				case firestore.DocumentAdded:
					fmt.Fprintf(w, &quot;New city: %v\n&quot;, change.Doc.Data())
				case firestore.DocumentModified:
					fmt.Fprintf(w, &quot;Modified city: %v\n&quot;, change.Doc.Data())
				case firestore.DocumentRemoved:
					fmt.Fprintf(w, &quot;Removed city: %v\n&quot;, change.Doc.Data())
				}
			}
		}
	}
}
<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/GoogleCloudPlatform/golang-samples/blob/600ca0cc2054997ba3f5c41f52b202e9478604b9/firestore/firestore_snippets/listen_changes.go#L18-L65" class="gc-analytics-event" data-category="github_link" data-label="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_changes.go#firestore_listen_query_changes" data-code-snippet="true" data-git-revision="master" data-github-path="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_changes.go" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_query_changes">listen_changes.go</a></div></code></pre>
</div>



















  
</section>

<section>
    <h5 id="php_4" data-text="PHP">PHP</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not supported in the PHP client library
</pre>
</section>

<section>
    <h5 id="unity_4" data-text="Unity">Unity</h5>
<pre class="prettyprint lang-unity" translate="no" dir="ltr" data-code-snippet="true" data-gerrit-path="Assets/Products/CloudFirestore/CloudFirestore_Listen.cs" data-gerrit-repo="devrel/samples/firebase/snippets-unity" data-region-tag="fs_listen_for_changes">        Query query = db.Collection(&quot;cities&quot;).WhereEqualTo(&quot;State&quot;, &quot;CA&quot;);

        ListenerRegistration listener = query.Listen(snapshot =&gt;
        {
            foreach (DocumentChange change in snapshot.GetChanges())
            {
                if (change.ChangeType == DocumentChange.Type.Added)
                {
                    Debug.Log(String.Format(&quot;New city: {0}&quot;, change.Document.Id));
                }
                else if (change.ChangeType == DocumentChange.Type.Modified)
                {
                    Debug.Log(String.Format(&quot;Modified city: {0}&quot;, change.Document.Id));
                }
                else if (change.ChangeType == DocumentChange.Type.Removed)
                {
                    Debug.Log(String.Format(&quot;Removed city: {0}&quot;, change.Document.Id));
                }
            }
        });
    }
}
</pre>
</section>

<section>
    <h5 id="c_4" data-text="C#">C#</h5>
<pre class="prettyprint lang-csh" translate="no" dir="ltr" data-code-snippet="true" data-github-path="GoogleCloudPlatform/dotnet-docs-samples/firestore/api/ListenData/Program.cs" data-region-tag="fs_listen_for_changes">CollectionReference citiesRef = db.Collection(&quot;cities&quot;);
Query query = db.Collection(&quot;cities&quot;).WhereEqualTo(&quot;State&quot;, &quot;CA&quot;);

FirestoreChangeListener listener = query.Listen(snapshot =&gt;
{
    foreach (DocumentChange change in snapshot.Changes)
    {
        if (change.ChangeType.ToString() == &quot;Added&quot;)
        {
            Console.WriteLine(&quot;New city: {0}&quot;, change.Document.Id);
        }
        else if (change.ChangeType.ToString() == &quot;Modified&quot;)
        {
            Console.WriteLine(&quot;Modified city: {0}&quot;, change.Document.Id);
        }
        else if (change.ChangeType.ToString() == &quot;Removed&quot;)
        {
            Console.WriteLine(&quot;Removed city: {0}&quot;, change.Document.Id);
        }
    }
});<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/GoogleCloudPlatform/dotnet-docs-samples/blob/e8e2a130b9a75ccdd5dbd3fa34bf80c731a3698b/firestore/api/ListenData/Program.cs#L118-L138" class="gc-analytics-event" data-category="github_link" data-label="GoogleCloudPlatform/dotnet-docs-samples/firestore/api/ListenData/Program.cs#fs_listen_for_changes" >Program.cs</a></div></pre>
</section>

<section>
    <h5 id="ruby_4" data-text="Ruby">Ruby</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-rb"
       
       
       track-metadata-position="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb/master/firestore_listen_query_changes"
       
       data-code-snippet="true"
       
       
       
       data-github-path="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_query_changes"
       
       
        dir="ltr"><code translate="no" dir="ltr">query = firestore.col(collection_path).where :state, :==, &quot;CA&quot;
added = []
modified = []
removed = []

# Watch the collection query.
listener = query.listen do |snapshot|
  puts &quot;Callback received query snapshot.&quot;
  puts &quot;Current cities in California:&quot;
  snapshot.changes.each do |change|
    if change.added?
      puts &quot;New city: #{change.doc.document_id}&quot;
      added &lt;&lt; snapshot
    elsif change.modified?
      puts &quot;Modified city: #{change.doc.document_id}&quot;
      modified &lt;&lt; snapshot
    elsif change.removed?
      puts &quot;Removed city: #{change.doc.document_id}&quot;
      removed &lt;&lt; snapshot
    end
  end
end<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/googleapis/google-cloud-ruby/blob/654a5a481fa376d8acafb3908fdc9f9d130613d5/google-cloud-firestore/samples/query_watch.rb#L63-L86" class="gc-analytics-event" data-category="github_link" data-label="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb#firestore_listen_query_changes" data-code-snippet="true" data-git-revision="master" data-github-path="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_query_changes">query_watch.rb</a></div></code></pre>
</div>




















</section>

</div>
<aside class="special"><strong>Important:</strong><span> The first query snapshot contains <code translate="no" dir="ltr">added</code> events for all existing
documents that match the query. This is because you&#39;re getting a set of changes
that bring your query snapshot current with the initial state of the query. This
allows you, for instance, to directly populate your UI from the changes you
receive in the first query snapshot, without
needing to add special logic for handling the initial state.</span></aside>
<p>The initial state can come from the server directly, or from a local
cache. If there is state available in a local cache, the query snapshot will
be initially populated with the cached data, then updated with the
server&#39;s data when the client has caught up with the server&#39;s state.</p>

<h2 id="detach_a_listener" data-text="Detach a listener">Detach a listener</h2>

<p>When you are no longer interested in listening to your data, you must detach
your listener so that your event callbacks stop getting called. This allows the
client to stop using bandwidth to receive updates. For example:</p>

<div class="ds-selector-tabs" data-ds-scope="lang">








  <section>
    <h3 id="web-v8_5" data-text="Web v8"><span class="two-line-tab"><span tab-label="">Web v8</span></span></h3>
<pre class="prettyprint lang-js" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-web/firestore/test.firestore.js" data-region-tag="detach_listener">var unsubscribe = db.collection(&quot;cities&quot;)
    .onSnapshot(() =&gt; {
      // Respond to data
      // ...
    });

// Later ...

// Stop listening to changes
unsubscribe();<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-web/blob/ceaa80767e5b244fcb2f42dd4fe8889c9818d81a/firestore/test.firestore.js#L744-L753" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-web/firestore/test.firestore.js#detach_listener" >test.firestore.js</a></div></pre>
  </section>
  <section>
    <h3 id="web-v9_5" data-text="Web v9"><span class="two-line-tab"><span tab-label="(Beta)">Web v9</span></span></h3>
    <aside class="note" style="padding-top:8px; padding-bottom:8px;">
    <a href="//firebase.google.com/docs/web/learn-more#modular-version">Learn more</a> about the tree-shakeable Web v9 modular SDK, currently in Beta.</aside>
<pre class="prettyprint lang-js" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-web/snippets/firestore-next/test-firestore/detach_listener.js" data-region-tag="detach_listener_modular">import { collection, onSnapshot } from &quot;firebase/firestore&quot;;

const unsubscribe = onSnapshot(collection(db, &quot;cities&quot;), () =&gt; {
  // Respond to data
  // ...
});

// Later ...

// Stop listening to changes
unsubscribe();<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-web/blob/ceaa80767e5b244fcb2f42dd4fe8889c9818d81a/snippets/firestore-next/test-firestore/detach_listener.js#L7-L17" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-web/snippets/firestore-next/test-firestore/detach_listener.js#detach_listener_modular" >detach_listener.js</a></div></pre>
  </section>



  <section>
    <h5 id="swift_5" data-text="Swift">Swift</h5>
<pre class="prettyprint lang-swift" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-ios/firestore/swift/firestore-smoketest/ViewController.swift" data-region-tag="detach_listener">let listener = db.collection(&quot;cities&quot;).addSnapshotListener { querySnapshot, error in
    // ...
}

// ...

// Stop listening to changes
listener.remove()<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-ios/blob/1546b663e3efca334820bf4afb56495144a1020a/firestore/swift/firestore-smoketest/ViewController.swift#L922-L930" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-ios/firestore/swift/firestore-smoketest/ViewController.swift#detach_listener" >ViewController.swift</a></div></pre>
  </section>

  <section>
  <h5 id="objective-c_5" data-text="Objective-C">Objective-C</h5>
<pre class="prettyprint lang-objc" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-ios/firestore/objc/firestore-smoketest-objc/ViewController.m" data-region-tag="detach_listener">id&lt;FIRListenerRegistration&gt; listener = [[self.db collectionWithPath:@&quot;cities&quot;]
    addSnapshotListener:^(FIRQuerySnapshot *snapshot, NSError *error) {
      // ...
}];

// ...

// Stop listening to changes
[listener remove];<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-ios/blob/1546b663e3efca334820bf4afb56495144a1020a/firestore/objc/firestore-smoketest-objc/ViewController.m#L821-L829" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-ios/firestore/objc/firestore-smoketest-objc/ViewController.m#detach_listener" >ViewController.m</a></div></pre>
  </section>

  <section>
    <h3 id="java_10" data-text="Java"><span class="two-line-tab"><span tab-label="Android">Java</span></span></h3>
<pre class="prettyprint lang-java" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java" data-region-tag="detach_listener">Query query = db.collection(&quot;cities&quot;);
ListenerRegistration registration = query.addSnapshotListener(
        new EventListener&lt;QuerySnapshot&gt;() {
            // ...
        });

// ...

// Stop listening to changes
registration.remove();<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-android/blob/c8958277f003f136562657e2eff3080937cc6926/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java#L859-L874" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java#detach_listener" >DocSnippets.java</a></div></pre>
  </section>
  <section>
    <h3 id="kotlin+ktx_5" data-text="Kotlin+KTX"><span class="two-line-tab"><span tab-label="Android">Kotlin+KTX</span></span></h3>
<pre class="prettyprint lang-kotlin" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt" data-region-tag="detach_listener">val query = db.collection(&quot;cities&quot;)
val registration = query.addSnapshotListener { snapshots, e -&gt;
    // ...
}

// ...

// Stop listening to changes
registration.remove()<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-android/blob/c8958277f003f136562657e2eff3080937cc6926/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt#L656-L664" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt#detach_listener" >DocSnippets.kt</a></div></pre>
  </section>

<section>
    <h5 id="java_11" data-text="Java">Java</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-java"
       
       
       track-metadata-position="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java/master/firestore_listen_detach"
       
       data-code-snippet="true"
       
       
       
       data-github-path="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_detach"
       
       
        dir="ltr"><code translate="no" dir="ltr">Query query = db.collection(&quot;cities&quot;);
ListenerRegistration registration = query.addSnapshotListener(
    new EventListener&lt;QuerySnapshot&gt;() {
      // ...
    });

// ...

// Stop listening to changes
registration.remove();<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/googleapis/java-firestore/blob/0f13fd0c0db0208b9f68a57dabcb1e998b4a7b9b/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java#L178-L193" class="gc-analytics-event" data-category="github_link" data-label="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java#firestore_listen_detach" data-code-snippet="true" data-git-revision="master" data-github-path="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_detach">ListenDataSnippets.java</a></div></code></pre>
</div>




















  </section>

<section>
    <h5 id="python_5" data-text="Python">Python</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-py"
       
       
       track-metadata-position="GoogleCloudPlatform/python-docs-samples/firestore/cloud-client/snippets.py/master/firestore_listen_detach"
       
       data-code-snippet="true"
       
       
       
       data-github-path="GoogleCloudPlatform/python-docs-samples/firestore/cloud-client/snippets.py"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_detach"
       
       
        dir="ltr"><code translate="no" dir="ltr"># Terminate watch on a document
doc_watch.unsubscribe()<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/GoogleCloudPlatform/python-docs-samples/blob/264bea692f8fc68197d2bd911c1994062c64acde/firestore/cloud-client/snippets.py#L714-L715" class="gc-analytics-event" data-category="github_link" data-label="GoogleCloudPlatform/python-docs-samples/firestore/cloud-client/snippets.py#firestore_listen_detach" data-code-snippet="true" data-git-revision="master" data-github-path="GoogleCloudPlatform/python-docs-samples/firestore/cloud-client/snippets.py" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_detach">snippets.py</a></div></code></pre>
</div>




















</section>

<section>
  <h5 id="c++_5" data-text="C++">C++</h5>
<pre class="prettyprint lang-cpp" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-cpp/firestore/android/FirestoreSnippetsCpp/app/src/main/cpp/snippets.cpp" data-region-tag="detach_listener">// Add a listener
Query query = db-&gt;Collection(&quot;cities&quot;);
ListenerRegistration registration = query.AddSnapshotListener(
    [](const QuerySnapshot&amp; snapshot, Error error) { /* ... */ });
// Stop listening to changes
registration.Remove();<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-cpp/blob/7c0ddc1923c85b025877a9186e46eac74c2a9ba5/firestore/android/FirestoreSnippetsCpp/app/src/main/cpp/snippets.cpp#L779-L784" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-cpp/firestore/android/FirestoreSnippetsCpp/app/src/main/cpp/snippets.cpp#detach_listener" >snippets.cpp</a></div></pre>
</section>

<section>
    <h5 id="node.js_5" data-text="Node.js">Node.js</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-js"
       
       
       track-metadata-position="firebase/snippets-node/firestore/main/index.js/master/firestore_listen_detach"
       
       data-code-snippet="true"
       
       
       
       data-github-path="firebase/snippets-node/firestore/main/index.js"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_detach"
       
       
        dir="ltr"><code translate="no" dir="ltr">const unsub = db.collection(&#39;cities&#39;).onSnapshot(() =&gt; {
});

// ...

// Stop listening for changes
unsub();<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-node/blob/dcf53908826bb08cc6d1c780795a79dea8a65ce8/firestore/main/index.js#L846-L852" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-node/firestore/main/index.js#firestore_listen_detach" data-code-snippet="true" data-git-revision="master" data-github-path="firebase/snippets-node/firestore/main/index.js" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_detach">index.js</a></div></code></pre>
</div>




















</section>

<section>
    <h5 id="go_5" data-text="Go">Go</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-golang"
       
       
       track-metadata-position="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_document.go/master/firestore_listen_detach"
       
       data-code-snippet="true"
       
       
       
       data-github-path="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_document.go"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_detach"
       
       
        dir="ltr"><code translate="no" dir="ltr">// Сontext with timeout stops listening to changes.
ctx, cancel := context.WithTimeout(ctx, 30*time.Second)
defer cancel()<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/GoogleCloudPlatform/golang-samples/blob/600ca0cc2054997ba3f5c41f52b202e9478604b9/firestore/firestore_snippets/listen_document.go#L33-L35" class="gc-analytics-event" data-category="github_link" data-label="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_document.go#firestore_listen_detach" data-code-snippet="true" data-git-revision="master" data-github-path="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_document.go" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_detach">listen_document.go</a></div></code></pre>
</div>




















</section>

<section>
    <h5 id="php_5" data-text="PHP">PHP</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not supported in the PHP client library
</pre>
</section>

<section>
    <h5 id="unity_5" data-text="Unity">Unity</h5>
<pre class="prettyprint lang-unity" translate="no" dir="ltr" data-code-snippet="true" data-gerrit-path="Assets/Products/CloudFirestore/CloudFirestore_Listen.cs" data-gerrit-repo="devrel/samples/firebase/snippets-unity" data-region-tag="fs_detach_listener">listener.Stop();</pre>
</section>

<section>
    <h5 id="c_5" data-text="C#">C#</h5>
<pre class="prettyprint lang-csh" translate="no" dir="ltr" data-code-snippet="true" data-github-path="GoogleCloudPlatform/dotnet-docs-samples/firestore/api/ListenData/Program.cs" data-region-tag="fs_detach_listener">await listener.StopAsync();<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/GoogleCloudPlatform/dotnet-docs-samples/blob/e8e2a130b9a75ccdd5dbd3fa34bf80c731a3698b/firestore/api/ListenData/Program.cs#L73-L73" class="gc-analytics-event" data-category="github_link" data-label="GoogleCloudPlatform/dotnet-docs-samples/firestore/api/ListenData/Program.cs#fs_detach_listener" >Program.cs</a></div></pre>
</section>

<section>
    <h5 id="ruby_5" data-text="Ruby">Ruby</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-rb"
       
       
       track-metadata-position="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb/master/firestore_listen_detach"
       
       data-code-snippet="true"
       
       
       
       data-github-path="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_detach"
       
       
        dir="ltr"><code translate="no" dir="ltr">listener.stop<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/googleapis/google-cloud-ruby/blob/654a5a481fa376d8acafb3908fdc9f9d130613d5/google-cloud-firestore/samples/query_watch.rb#L51-L53" class="gc-analytics-event" data-category="github_link" data-label="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb#firestore_listen_detach" data-code-snippet="true" data-git-revision="master" data-github-path="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_detach">query_watch.rb</a></div></code></pre>
</div>




















</section>

</div>

<h2 id="handle_listen_errors" data-text="Handle listen errors">Handle listen errors</h2>

<p>A listen may occasionally fail — for example, due to security permissions, or if
you tried to listen on an invalid query. (Learn more about
<a href="/docs/firestore/query-data/queries#compound_queries">valid and invalid queries</a>.) To handle these
failures, you can provide an error callback when you attach your snapshot
listener. After an error, the listener will not receive any more events, and
there is no need to detach your listener.</p>

<div class="ds-selector-tabs" data-ds-scope="lang">








  <section>
    <h3 id="web-v8_6" data-text="Web v8"><span class="two-line-tab"><span tab-label="">Web v8</span></span></h3>
<pre class="prettyprint lang-js" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-web/firestore/test.firestore.js" data-region-tag="handle_listen_errors">db.collection(&quot;cities&quot;)
    .onSnapshot((snapshot) =&gt; {
        // ...
    }, (error) =&gt; {
        // ...
    });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-web/blob/ceaa80767e5b244fcb2f42dd4fe8889c9818d81a/firestore/test.firestore.js#L760-L765" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-web/firestore/test.firestore.js#handle_listen_errors" >test.firestore.js</a></div></pre>
  </section>
  <section>
    <h3 id="web-v9_6" data-text="Web v9"><span class="two-line-tab"><span tab-label="(Beta)">Web v9</span></span></h3>
    <aside class="note" style="padding-top:8px; padding-bottom:8px;">
    <a href="//firebase.google.com/docs/web/learn-more#modular-version">Learn more</a> about the tree-shakeable Web v9 modular SDK, currently in Beta.</aside>
<pre class="prettyprint lang-js" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-web/snippets/firestore-next/test-firestore/handle_listen_errors.js" data-region-tag="handle_listen_errors_modular">import { collection, onSnapshot } from &quot;firebase/firestore&quot;;

const unsubscribe = onSnapshot(
  collection(db, &quot;cities&quot;), 
  (snapshot) =&gt; {
    // ...
  },
  (error) =&gt; {
    // ...
  });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-web/blob/ceaa80767e5b244fcb2f42dd4fe8889c9818d81a/snippets/firestore-next/test-firestore/handle_listen_errors.js#L7-L16" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-web/snippets/firestore-next/test-firestore/handle_listen_errors.js#handle_listen_errors_modular" >handle_listen_errors.js</a></div></pre>
  </section>



  <section>
    <h5 id="swift_6" data-text="Swift">Swift</h5>
<pre class="prettyprint lang-swift" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-ios/firestore/swift/firestore-smoketest/ViewController.swift" data-region-tag="handle_listen_errors">db.collection(&quot;cities&quot;)
    .addSnapshotListener { querySnapshot, error in
        if let error = error {
            print(&quot;Error retreiving collection: \(error)&quot;)
        }
    }<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-ios/blob/1546b663e3efca334820bf4afb56495144a1020a/firestore/swift/firestore-smoketest/ViewController.swift#L936-L941" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-ios/firestore/swift/firestore-smoketest/ViewController.swift#handle_listen_errors" >ViewController.swift</a></div></pre>
  </section>
    <section>
  <h5 id="objective-c_6" data-text="Objective-C">Objective-C</h5>
<pre class="prettyprint lang-objc" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-ios/firestore/objc/firestore-smoketest-objc/ViewController.m" data-region-tag="handle_listen_errors">[[self.db collectionWithPath:@&quot;cities&quot;]
    addSnapshotListener:^(FIRQuerySnapshot *snapshot, NSError *error) {
      if (error != nil) {
        NSLog(@&quot;Error retreving collection: %@&quot;, error);
      }
    }];<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-ios/blob/1546b663e3efca334820bf4afb56495144a1020a/firestore/objc/firestore-smoketest-objc/ViewController.m#L835-L840" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-ios/firestore/objc/firestore-smoketest-objc/ViewController.m#handle_listen_errors" >ViewController.m</a></div></pre>
  </section>
  <section>
    <h3 id="java_12" data-text="Java"><span class="two-line-tab"><span tab-label="Android">Java</span></span></h3>
<pre class="prettyprint lang-java" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java" data-region-tag="handle_listen_errors">db.collection(&quot;cities&quot;)
        .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {
            @Override
            public void onEvent(@Nullable QuerySnapshot snapshots,
                                @Nullable FirebaseFirestoreException e) {
                if (e != null) {
                    Log.w(TAG, &quot;listen:error&quot;, e);
                    return;
                }

                for (DocumentChange dc : snapshots.getDocumentChanges()) {
                    if (dc.getType() == Type.ADDED) {
                        Log.d(TAG, &quot;New city: &quot; + dc.getDocument().getData());
                    }
                }

            }
        });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-android/blob/c8958277f003f136562657e2eff3080937cc6926/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java#L880-L897" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/DocSnippets.java#handle_listen_errors" >DocSnippets.java</a></div></pre>
  </section>
  <section>
    <h3 id="kotlin+ktx_6" data-text="Kotlin+KTX"><span class="two-line-tab"><span tab-label="Android">Kotlin+KTX</span></span></h3>
<pre class="prettyprint lang-kotlin" translate="no" dir="ltr" data-code-snippet="true" data-github-path="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt" data-region-tag="handle_listen_errors">db.collection(&quot;cities&quot;)
        .addSnapshotListener { snapshots, e -&gt;
            if (e != null) {
                Log.w(TAG, &quot;listen:error&quot;, e)
                return@addSnapshotListener
            }

            for (dc in snapshots!!.documentChanges) {
                if (dc.type == DocumentChange.Type.ADDED) {
                    Log.d(TAG, &quot;New city: ${dc.document.data}&quot;)
                }
            }
        }<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-android/blob/c8958277f003f136562657e2eff3080937cc6926/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt#L670-L682" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-android/firestore/app/src/main/java/com/google/example/firestore/kotlin/DocSnippets.kt#handle_listen_errors" >DocSnippets.kt</a></div></pre>
  </section>

<section>
    <h5 id="java_13" data-text="Java">Java</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-java"
       
       
       track-metadata-position="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java/master/firestore_listen_handle_error"
       
       data-code-snippet="true"
       
       
       
       data-github-path="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_handle_error"
       
       
        dir="ltr"><code translate="no" dir="ltr">db.collection(&quot;cities&quot;)
    .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {
      @Override
      public void onEvent(@Nullable QuerySnapshot snapshots,
                          @Nullable FirestoreException e) {
        if (e != null) {
          System.err.println(&quot;Listen failed: &quot; + e);
          return;
        }

        for (DocumentChange dc : snapshots.getDocumentChanges()) {
          if (dc.getType() == Type.ADDED) {
            System.out.println(&quot;New city: &quot; + dc.getDocument().getData());
          }
        }
      }
    });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/googleapis/java-firestore/blob/0f13fd0c0db0208b9f68a57dabcb1e998b4a7b9b/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java#L204-L220" class="gc-analytics-event" data-category="github_link" data-label="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java#firestore_listen_handle_error" data-code-snippet="true" data-git-revision="master" data-github-path="googleapis/java-firestore/samples/snippets/src/main/java/com/example/firestore/snippets/ListenDataSnippets.java" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_handle_error">ListenDataSnippets.java</a></div></code></pre>
</div>




















  </section>

<section>
    <h5 id="python_6" data-text="Python">Python</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Snippet coming soon
</pre>
</section>

<section>
    <h5 id="c++_6" data-text="C++">C++</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// This is not yet supported.
</pre>
</section>

<section>
    <h5 id="node.js_6" data-text="Node.js">Node.js</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-js"
       
       
       track-metadata-position="firebase/snippets-node/firestore/main/index.js/master/firestore_listen_handle_error"
       
       data-code-snippet="true"
       
       
       
       data-github-path="firebase/snippets-node/firestore/main/index.js"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_handle_error"
       
       
        dir="ltr"><code translate="no" dir="ltr">db.collection(&#39;cities&#39;)
  .onSnapshot((snapshot) =&gt; {
    //...
  }, (error) =&gt; {
    //...
  });<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/firebase/snippets-node/blob/dcf53908826bb08cc6d1c780795a79dea8a65ce8/firestore/main/index.js#L860-L865" class="gc-analytics-event" data-category="github_link" data-label="firebase/snippets-node/firestore/main/index.js#firestore_listen_handle_error" data-code-snippet="true" data-git-revision="master" data-github-path="firebase/snippets-node/firestore/main/index.js" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_handle_error">index.js</a></div></code></pre>
</div>




















</section>

<section>
    <h5 id="go_6" data-text="Go">Go</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-golang"
       
       
       track-metadata-position="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_errors.go/master/firestore_listen_handle_error"
       
       data-code-snippet="true"
       
       
       
       data-github-path="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_errors.go"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_handle_error"
       
       
        dir="ltr"><code translate="no" dir="ltr">import (
	&quot;context&quot;
	&quot;fmt&quot;
	&quot;io&quot;
	&quot;time&quot;

	&quot;cloud.google.com/go/firestore&quot;
	&quot;google.golang.org/grpc/codes&quot;
	&quot;google.golang.org/grpc/status&quot;
)

// listenErrors demonstrates how to handle listening errors.
func listenErrors(ctx context.Context, w io.Writer, projectID, collection string) error {
	// projectID := &quot;project-id&quot;
	ctx, cancel := context.WithTimeout(ctx, 30*time.Second)
	defer cancel()

	client, err := firestore.NewClient(ctx, projectID)
	if err != nil {
		return fmt.Errorf(&quot;firestore.NewClient: %v&quot;, err)
	}
	defer client.Close()

	it := client.Collection(collection).Snapshots(ctx)
	for {
		snap, err := it.Next()
		// DeadlineExceeded will be returned when ctx is cancelled.
		if status.Code(err) == codes.DeadlineExceeded {
			return nil
		}
		if err != nil {
			return fmt.Errorf(&quot;Snapshots.Next: %v&quot;, err)
		}
		if snap != nil {
			for _, change := range snap.Changes {
				if change.Kind == firestore.DocumentAdded {
					fmt.Fprintf(w, &quot;New city: %v\n&quot;, change.Doc.Data())
				}
			}
		}
	}
}
<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/GoogleCloudPlatform/golang-samples/blob/600ca0cc2054997ba3f5c41f52b202e9478604b9/firestore/firestore_snippets/listen_errors.go#L18-L60" class="gc-analytics-event" data-category="github_link" data-label="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_errors.go#firestore_listen_handle_error" data-code-snippet="true" data-git-revision="master" data-github-path="GoogleCloudPlatform/golang-samples/firestore/firestore_snippets/listen_errors.go" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_handle_error">listen_errors.go</a></div></code></pre>
</div>




















  
</section>

<section>
    <h5 id="php_6" data-text="PHP">PHP</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not supported in the PHP client library
</pre>
</section>

<section>
    <h5 id="unity_6" data-text="Unity">Unity</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Not supported in the Unity SDK.
</pre>
</section>

<section>
    <h5 id="c_6" data-text="C#">C#</h5>
<pre class="prettyprint" translate="no" dir="ltr">
// Snippet coming soon
</pre>
</section>

<section>
    <h5 id="ruby_6" data-text="Ruby">Ruby</h5>




















  
  
  
  



<div class="github-docwidget-gitinclude-code">

  
  

  <pre suppresswarning="suppresswarning" translate="no"
       
       class="prettyprint lang-rb"
       
       
       track-metadata-position="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb/master/firestore_listen_handle_error"
       
       data-code-snippet="true"
       
       
       
       data-github-path="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb"
       
       
       data-git-revision="master"
       
       
       data-region-tag="firestore_listen_handle_error"
       
       
        dir="ltr"><code translate="no" dir="ltr">listener = firestore.col(collection_path).listen do |snapshot|
  snapshot.changes.each do |change|
    puts &quot;New city: #{change.doc.document_id}&quot; if change.added?
  end
end

# Register to be notified when unhandled errors occur.
listener.on_error do |error|
  puts &quot;Listen failed: #{error.message}&quot;
end<div class="devsite-github-link nocode no-select"><a target="_top" href="https://github.com/googleapis/google-cloud-ruby/blob/654a5a481fa376d8acafb3908fdc9f9d130613d5/google-cloud-firestore/samples/query_watch.rb#L131-L142" class="gc-analytics-event" data-category="github_link" data-label="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb#firestore_listen_handle_error" data-code-snippet="true" data-git-revision="master" data-github-path="googleapis/google-cloud-ruby/google-cloud-firestore/samples/query_watch.rb" data-indented-block="" data-regexp="" data-region-tag="firestore_listen_handle_error">query_watch.rb</a></div></code></pre>
</div>




















</section>

</div>

<h2 id="whats_next" data-text="What's next">What's next</h2>

<ul>
<li><a href="/docs/firestore/query-data/queries">Combine listeners with simple and compound queries</a>.</li>
<li><a href="/docs/firestore/query-data/order-limit-data">Order and limit the documents retrieved</a>.</li>
<li><a href="https://firebase.google.com/docs/firestore/pricing#operations">Understand billing for listeners</a>.</li>
</ul>



  
    

    
  </div>

  

  
    
      
    <devsite-thumb-rating position="footer">
       <template class="thumb-down-categories">
  [{
      "type": "thumb-down",
      "id": "missingTheInformationINeed",
      "label":"Missing the information I need"
    },{
      "type": "thumb-down",
      "id": "tooComplicatedTooManySteps",
      "label":"Too complicated / too many steps"
    },{
      "type": "thumb-down",
      "id": "outOfDate",
      "label":"Out of date"
    },{
      "type": "thumb-down",
      "id": "samplesCodeIssue",
      "label":"Samples / code issue"
    },{
      "type": "thumb-down",
      "id": "otherDown",
      "label":"Other"
    }]
  </template>
       <template class="thumb-up-categories">
  [{
      "type": "thumb-up",
      "id": "easyToUnderstand",
      "label":"Easy to understand"
    },{
      "type": "thumb-up",
      "id": "solvedMyProblem",
      "label":"Solved my problem"
    },{
      "type": "thumb-up",
      "id": "otherUp",
      "label":"Other"
    }]
  </template>
       
         
         
         <template class="thumb-rating-feedback">
         <devsite-feedback
  position="thumb-rating"
  project-name="Firebase"
  product-id="719752"
  bucket=""
  context=""
  version="t-devsite-webserver-20210601-r02-rc00.435605028023836298"
  data-label="Send Feedback Button"
  track-type="feedback"
  track-name="sendFeedbackLink"
  track-metadata-position="thumb-rating"
  
  
    project-feedback-url="https://firebase.google.com/support/contact/bugs-features/"
  
  
    
      project-icon="https://firebase.google.com/_static/firebase/images/logo.png"
    
  
  
    project-support-url="https://firebase.google.com/support/"
  
  feedback-type="thumb-rating">

  <button>
  
    Need to tell us more?
  
  </button>
</devsite-feedback>
         </template>
       
    </devsite-thumb-rating>
  
       
         <devsite-feedback
  position="footer"
  project-name="Firebase"
  product-id="719752"
  bucket=""
  context=""
  version="t-devsite-webserver-20210601-r02-rc00.435605028023836298"
  data-label="Send Feedback Button"
  track-type="feedback"
  track-name="sendFeedbackLink"
  track-metadata-position="footer"
  
  
    project-feedback-url="https://firebase.google.com/support/contact/bugs-features/"
  
  
    
      project-icon="https://firebase.google.com/_static/firebase/images/logo.png"
    
  
  
    project-support-url="https://firebase.google.com/support/"
  
  feedback-type="thumb-rating">

  <button>
  
    
    Send feedback
  
  </button>
</devsite-feedback>
       
    
    
  

  
  
</article>


<devsite-content-footer class="nocontent">
  <p>Except as otherwise noted, the content of this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 License</a>, and code samples are licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>. For details, see the <a href="https://developers.google.com/site-policies">Google Developers Site Policies</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
  <p>Last updated 2021-06-04 UTC.</p>
</devsite-content-footer>



            
          </devsite-content>
        </main>
        <devsite-footer-promos class="devsite-footer">
          
            
          
        </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
          
            
<nav class="devsite-footer-linkboxes nocontent" aria-label="Footer links">
  
  <ul class="devsite-footer-linkboxes-list">
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Learn</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/docs/guides/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
          
            Guides
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/docs/reference/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
          
            Reference
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/docs/samples/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
          
            Samples
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/docs/libraries/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
          
            Libraries
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//github.com/firebase/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
          
            GitHub
          
          </a>
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Stay connected</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//firebase.googleblog.com"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
          
            Blog
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/summit/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
          
            Firebase Summit
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.facebook.com/Firebase/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
          
            Facebook
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//twitter.com/Firebase"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
          
            Twitter
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.youtube.com/user/Firebase"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
          
            YouTube
          
          </a>
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Support</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/support/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
          
            Contact support
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//stackoverflow.com/questions/tagged/firebase"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
          
            Stack Overflow
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//firebase.community/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
          
            Slack community
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//groups.google.com/forum/#!forum/firebase-talk"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
          
            Google group
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/support/releases"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
          
            Release notes
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/support/faq/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 6)"
            >
          
            FAQs
          
          </a>
          
        </li>
        
      </ul>
    </li>
    
  </ul>
  
</nav>
          
        </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
          
            

<div class="devsite-footer-utility nocontent">
  
  
  <nav class="devsite-footer-sites" aria-label="Other Google Developers websites">
    <a href="https://developers.google.com/"
       class="devsite-footer-sites-logo-link gc-analytics-event"
       data-category="Site-Wide Custom Events"
       data-label="Footer Google Developers Link">
      <img class="devsite-footer-sites-logo"
           src="https://www.gstatic.com/devrel-devsite/prod/vacc2a2a4a4394c7c42dc62dba69eb022d7680ce4a368d4b28c3e984cc9155a81/firebase/images/lockup-developers.svg"
           loading="lazy"
           alt="Google Developers">
    </a>
    <ul class="devsite-footer-sites-list">
      
      <li class="devsite-footer-sites-item">
        <a href="//developer.android.com"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Android Link"
         
         >
          Android
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//developer.chrome.com/home"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Chrome Link"
         
         >
          Chrome
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//firebase.google.com"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Firebase Link"
         
         >
          Firebase
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//cloud.google.com"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer Google Cloud Platform Link"
         
         >
          Google Cloud Platform
        </a>
      </li>
      
      <li class="devsite-footer-sites-item">
        <a href="//developers.google.com/products/"
           class="devsite-footer-sites-link
                  gc-analytics-event"
           data-category="Site-Wide Custom Events"
         
           data-label="Footer All products Link"
         
         >
          All products
        </a>
      </li>
      
    </ul>
  </nav>
  

  
  <nav class="devsite-footer-utility-links" aria-label="Utility links">
    
    <ul class="devsite-footer-utility-list">
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/terms/"
           data-category="Site-Wide Custom Events"
           data-label="Footer Terms link"
         >
          Terms
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="//policies.google.com/privacy"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link"
         >
          Privacy
        </a>
        
      </li>
      
    </ul>
    

    
<devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    
    <select aria-label="Select your language preference."
            class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
    
      
      <option>Language</option>
    
    
      <option value="en"
              lang="en"
              track-metadata-original-language="en"
              track-metadata-selected-language="en"
              track-name="changed"
              track-type="languageSelector"
            >
        English
      </option>
    
      <option value="id"
              lang="id"
              track-metadata-original-language="en"
              track-metadata-selected-language="id"
              track-name="changed"
              track-type="languageSelector"
            >
        Bahasa Indonesia
      </option>
    
      <option value="de"
              lang="de"
              track-metadata-original-language="en"
              track-metadata-selected-language="de"
              track-name="changed"
              track-type="languageSelector"
            >
        Deutsch
      </option>
    
      <option value="es_419"
              lang="es_419"
              track-metadata-original-language="en"
              track-metadata-selected-language="es_419"
              track-name="changed"
              track-type="languageSelector"
            >
        Español – América Latina
      </option>
    
      <option value="fr"
              lang="fr"
              track-metadata-original-language="en"
              track-metadata-selected-language="fr"
              track-name="changed"
              track-type="languageSelector"
            >
        Français
      </option>
    
      <option value="it"
              lang="it"
              track-metadata-original-language="en"
              track-metadata-selected-language="it"
              track-name="changed"
              track-type="languageSelector"
            >
        Italiano
      </option>
    
      <option value="pl"
              lang="pl"
              track-metadata-original-language="en"
              track-metadata-selected-language="pl"
              track-name="changed"
              track-type="languageSelector"
            >
        Polski
      </option>
    
      <option value="pt_br"
              lang="pt_br"
              track-metadata-original-language="en"
              track-metadata-selected-language="pt_br"
              track-name="changed"
              track-type="languageSelector"
            >
        Português – Brasil
      </option>
    
      <option value="vi"
              lang="vi"
              track-metadata-original-language="en"
              track-metadata-selected-language="vi"
              track-name="changed"
              track-type="languageSelector"
            >
        Tiếng Việt
      </option>
    
      <option value="tr"
              lang="tr"
              track-metadata-original-language="en"
              track-metadata-selected-language="tr"
              track-name="changed"
              track-type="languageSelector"
            >
        Türkçe
      </option>
    
      <option value="ru"
              lang="ru"
              track-metadata-original-language="en"
              track-metadata-selected-language="ru"
              track-name="changed"
              track-type="languageSelector"
            >
        Русский
      </option>
    
      <option value="he"
              lang="he"
              track-metadata-original-language="en"
              track-metadata-selected-language="he"
              track-name="changed"
              track-type="languageSelector"
            >
        עברית&#39;
      </option>
    
      <option value="ar"
              lang="ar"
              track-metadata-original-language="en"
              track-metadata-selected-language="ar"
              track-name="changed"
              track-type="languageSelector"
            >
        العربيّة
      </option>
    
      <option value="fa"
              lang="fa"
              track-metadata-original-language="en"
              track-metadata-selected-language="fa"
              track-name="changed"
              track-type="languageSelector"
            >
        فارسی
      </option>
    
      <option value="hi"
              lang="hi"
              track-metadata-original-language="en"
              track-metadata-selected-language="hi"
              track-name="changed"
              track-type="languageSelector"
            >
        हिंदी
      </option>
    
      <option value="bn"
              lang="bn"
              track-metadata-original-language="en"
              track-metadata-selected-language="bn"
              track-name="changed"
              track-type="languageSelector"
            >
        বাংলা
      </option>
    
      <option value="th"
              lang="th"
              track-metadata-original-language="en"
              track-metadata-selected-language="th"
              track-name="changed"
              track-type="languageSelector"
            >
        ภาษาไทย
      </option>
    
      <option value="zh_cn"
              lang="zh_cn"
              track-metadata-original-language="en"
              track-metadata-selected-language="zh_cn"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 简体
      </option>
    
      <option value="zh_tw"
              lang="zh_tw"
              track-metadata-original-language="en"
              track-metadata-selected-language="zh_tw"
              track-name="changed"
              track-type="languageSelector"
            >
        中文 – 繁體
      </option>
    
      <option value="ja"
              lang="ja"
              track-metadata-original-language="en"
              track-metadata-selected-language="ja"
              track-name="changed"
              track-type="languageSelector"
            >
        日本語
      </option>
    
      <option value="ko"
              lang="ko"
              track-metadata-original-language="en"
              track-metadata-selected-language="ko"
              track-name="changed"
              track-type="languageSelector"
            >
        한국어
      </option>
    
    </select>
  </devsite-select>
</devsite-language-selector>

  </nav>
</div>
          
        </devsite-footer-utility>
      </section></section>
    <devsite-sitemask></devsite-sitemask>
    <devsite-snackbar 
                  ></devsite-snackbar>
    <devsite-tooltip ></devsite-tooltip>
    <devsite-heading-link></devsite-heading-link>
    <devsite-analytics enable-analytics-iframe>
      
        <script type="application/json" analytics>[]</script>
<script type="application/json" gtm>{"parameters": {"freeTrialEligibleUser": "False", "internalUser": "False", "language": {"machineTranslated": "False", "requested": "en", "served": "en"}, "pageType": "article", "projectName": "Firebase", "scriptsafe": null, "signedIn": "False", "tenant": "firebase", "recommendations": {"sourcePage": "", "sourceType": 0, "sourceRank": 0, "sourceIdenticalDescriptions": 0, "sourceTitleWords": 0, "sourceDescriptionWords": 0, "experiment": ""}}, "tags": ["GTM-N84485"]}</script>
      
    </devsite-analytics>
    
      <devsite-badger></devsite-badger>
    
    <firebase-gtm></firebase-gtm>
    <script nonce="w8ZCQtKzxGHnSVPGoqqi+3+qtkz1bU">
  
  (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',
    'https://www.gstatic.com/devrel-devsite/prod/vacc2a2a4a4394c7c42dc62dba69eb022d7680ce4a368d4b28c3e984cc9155a81/firebase/js/app_loader.js', '[4,"en",null,"/js/devsite_app_module.js","https://www.gstatic.com/devrel-devsite/prod/vacc2a2a4a4394c7c42dc62dba69eb022d7680ce4a368d4b28c3e984cc9155a81","https://www.gstatic.com/devrel-devsite/prod/vacc2a2a4a4394c7c42dc62dba69eb022d7680ce4a368d4b28c3e984cc9155a81/firebase","https://firebase-dot-devsite-v2-prod.appspot.com",null,null,["/_pwa/firebase/manifest.json","https://www.gstatic.com/devrel-devsite/prod/vacc2a2a4a4394c7c42dc62dba69eb022d7680ce4a368d4b28c3e984cc9155a81/images/video-placeholder.svg","https://www.gstatic.com/devrel-devsite/prod/vacc2a2a4a4394c7c42dc62dba69eb022d7680ce4a368d4b28c3e984cc9155a81/firebase/images/favicon.png","https://www.gstatic.com/devrel-devsite/prod/vacc2a2a4a4394c7c42dc62dba69eb022d7680ce4a368d4b28c3e984cc9155a81/firebase/images/lockup.png","https://fonts.googleapis.com/css?family=Google+Sans:400,500|Roboto:400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap"],1,null,[1,6,8,12,14,17,21,25,40,45,50,63,70,75,76,80,87,88,91,92,93,97,98,100,101,102,103,105,107,108,111,112,113,115,117,118,120,122,123,124,125,127,129,131,132,133,134,135,136,138,145],"AIzaSyAP-jjEJBzmIyKR4F-3XITp8yM9T1gEEI8","AIzaSyB6xiKGDR5O3Ak2okS4rLkauxGUG7XP0hg"]')
  
</script>
    <devsite-a11y-announce></devsite-a11y-announce>
  </body>
</html>